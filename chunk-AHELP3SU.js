import{a as bt}from"./chunk-AIIM5K4V.js";import{A as Fe,B as De,C as oe,D as pt,E as ht,F as Ae,G as Ne,H as Te,I as ae,J as gt,K as Oe,L as se,M as ft,N as de,O as vt,P as Ve,Q as yt,R as wt,b as ke,j as te,l as ct,m as Ee,n as Me,p as Ie,q as mt,r as ut,t as ue,u as T,v as ne,y as ie,z as re}from"./chunk-VVXHZA7K.js";import{A as ve,Ab as $e,Da as et,Eb as ee,Fb as ot,G as Qe,Ga as G,Gb as C,Ja as Z,La as tt,Lb as at,Mb as st,Oa as l,Ob as dt,P as Je,Pa as _,Pb as me,Ta as xe,Ya as nt,Z as ye,Za as u,_ as j,a as ge,b as Xe,d as ce,da as we,db as k,g as q,ga as S,h as Ke,ha as H,i as fe,ia as Ze,ib as a,j as be,jb as s,ka as b,kb as m,la as v,lb as _e,ma as L,mb as Ce,na as R,nb as F,pc as Se,qb as h,qc as lt,rb as f,rc as U,sb as it,tb as rt,ub as D,uc as N,wb as z,xb as d,yb as A,zb as $}from"./chunk-W3XV2ATP.js";import{a as Ye}from"./chunk-5FZOKLP6.js";var Q={LF:`
`,NULL:"\0"};var pe=class o{constructor(e){let{command:r,headers:t,body:n,binaryBody:i,escapeHeaderValues:c,skipContentLengthHeader:p}=e;this.command=r,this.headers=Object.assign({},t||{}),i?(this._binaryBody=i,this.isBinaryBody=!0):(this._body=n||"",this.isBinaryBody=!1),this.escapeHeaderValues=c||!1,this.skipContentLengthHeader=p||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}static fromRawFrame(e,r){let t={},n=i=>i.replace(/^\s+|\s+$/g,"");for(let i of e.headers.reverse()){let c=i.indexOf(":"),p=n(i[0]),g=n(i[1]);r&&e.command!=="CONNECT"&&e.command!=="CONNECTED"&&(g=o.hdrValueUnEscape(g)),t[p]=g}return new o({command:e.command,headers:t,binaryBody:e.binaryBody,escapeHeaderValues:r})}toString(){return this.serializeCmdAndHeaders()}serialize(){let e=this.serializeCmdAndHeaders();return this.isBinaryBody?o.toUnit8Array(e,this._binaryBody).buffer:e+this._body+Q.NULL}serializeCmdAndHeaders(){let e=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(let r of Object.keys(this.headers||{})){let t=this.headers[r];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?e.push(`${r}:${o.hdrValueEscape(`${t}`)}`):e.push(`${r}:${t}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&e.push(`content-length:${this.bodyLength()}`),e.join(Q.LF)+Q.LF+Q.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){let e=this.binaryBody;return e?e.length:0}static sizeOfUTF8(e){return e?new TextEncoder().encode(e).length:0}static toUnit8Array(e,r){let t=new TextEncoder().encode(e),n=new Uint8Array([0]),i=new Uint8Array(t.length+r.length+n.length);return i.set(t),i.set(r,t.length),i.set(n,t.length+r.length),i}static marshall(e){return new o(e).serialize()}static hdrValueEscape(e){return e.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(e){return e.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}};var je=class{constructor(e,r){this.onFrame=e,this.onIncomingPing=r,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(e,r=!1){let t;if(e instanceof ArrayBuffer?t=new Uint8Array(e):t=this._encoder.encode(e),r&&t[t.length-1]!==0){let n=new Uint8Array(t.length+1);n.set(t,0),n[t.length]=0,t=n}for(let n=0;n<t.length;n++){let i=t[n];this._onByte(i)}}_collectFrame(e){if(e!==0&&e!==13){if(e===10){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(e)}}_collectCommand(e){if(e!==13){if(e===10){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_collectHeaders(e){if(e!==13){if(e===10){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(e)}}_reinjectByte(e){this._onByte(e)}_collectHeaderKey(e){if(e===58){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(e)}_collectHeaderValue(e){if(e!==13){if(e===10){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_setupCollectBody(){let e=this._results.headers.filter(r=>r[0]==="content-length")[0];e?(this._bodyBytesRemaining=parseInt(e[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(e){if(e===0){this._retrievedBody();return}this._consumeByte(e)}_collectBodyFixedSize(e){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(e)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw(),this.onFrame(this._results),this._initState()}_consumeByte(e){this._token.push(e)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){let e=new Uint8Array(this._token);return this._token=[],e}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}};var W=function(o){return o[o.CONNECTING=0]="CONNECTING",o[o.OPEN=1]="OPEN",o[o.CLOSING=2]="CLOSING",o[o.CLOSED=3]="CLOSED",o}(W||{}),P=function(o){return o[o.ACTIVE=0]="ACTIVE",o[o.DEACTIVATING=1]="DEACTIVATING",o[o.INACTIVE=2]="INACTIVE",o}(P||{});var E=class{constructor(e){this.versions=e}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(e=>`v${e.replace(".","")}.stomp`)}};E.V1_0="1.0";E.V1_1="1.1";E.V1_2="1.2";E.default=new E([E.V1_0,E.V1_1,E.V1_2]);function xt(o,e){o.terminate=function(){let r=()=>{};this.onerror=r,this.onmessage=r,this.onopen=r;let t=new Date,n=this.onclose;this.onclose=i=>{let c=new Date().getTime()-t.getTime();e(`Discarded socket closed after ${c}ms, with code/reason: ${i.code}/${i.reason}`)},this.close(),n.call(this,{code:4001,reason:"Heartbeat failure, discarding the socket",wasClean:!1})}}var He=class{constructor(e,r,t={}){this._client=e,this._webSocket=r,this._serverFrameHandlers={CONNECTED:n=>{this.debug(`connected to server ${n.headers.server}`),this._connected=!0,this._connectedVersion=n.headers.version,this._connectedVersion===E.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(n.headers),this.onConnect(n)},MESSAGE:n=>{let i=n.headers.subscription,c=this._subscriptions[i]||this.onUnhandledMessage,p=n,g=this,y=this._connectedVersion===E.V1_2?p.headers.ack:p.headers["message-id"];p.ack=(w={})=>g.ack(y,i,w),p.nack=(w={})=>g.nack(y,i,w),c(p)},RECEIPT:n=>{let i=this._receiptWatchers[n.headers["receipt-id"]];i?(i(n),delete this._receiptWatchers[n.headers["receipt-id"]]):this.onUnhandledReceipt(n)},ERROR:n=>{this.onStompError(n)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.configure(t)}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}configure(e){Object.assign(this,e)}start(){let e=new je(r=>{let t=pe.fromRawFrame(r,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${t}`),(this._serverFrameHandlers[t.command]||this.onUnhandledFrame)(t)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=r=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){let t=r.data instanceof ArrayBuffer?new TextDecoder().decode(r.data):r.data;this.debug(`<<< ${t}`)}e.parseChunk(r.data,this.appendMissingNULLonIncoming)},this._onclose=r=>{this.debug(`Connection closed to ${this._client.brokerURL}`),this._cleanUp(),this.onWebSocketClose(r)},this._webSocket.onclose=this._onclose,this._webSocket.onerror=r=>{this.onWebSocketError(r)},this._webSocket.onopen=()=>{let r=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),r["accept-version"]=this.stompVersions.supportedVersions(),r["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:r})}}_setupHeartbeat(e){if(e.version!==E.V1_1&&e.version!==E.V1_2||!e["heart-beat"])return;let[r,t]=e["heart-beat"].split(",").map(n=>parseInt(n,10));if(this.heartbeatOutgoing!==0&&t!==0){let n=Math.max(this.heartbeatOutgoing,t);this.debug(`send PING every ${n}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===W.OPEN&&(this._webSocket.send(Q.LF),this.debug(">>> PING"))},n)}if(this.heartbeatIncoming!==0&&r!==0){let n=Math.max(this.heartbeatIncoming,r);this.debug(`check PONG every ${n}ms`),this._ponger=setInterval(()=>{let i=Date.now()-this._lastServerActivityTS;i>n*2&&(this.debug(`did not receive server activity for the last ${i}ms`),this._closeOrDiscardWebsocket())},n)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this._discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===W.CONNECTING||this._webSocket.readyState===W.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}_discardWebsocket(){this._webSocket.terminate||xt(this._webSocket,e=>this.debug(e)),this._webSocket.terminate()}_transmit(e){let{command:r,headers:t,body:n,binaryBody:i,skipContentLengthHeader:c}=e,p=new pe({command:r,headers:t,body:n,binaryBody:i,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:c}),g=p.serialize();if(this.logRawCommunication?this.debug(`>>> ${g}`):this.debug(`>>> ${p}`),this.forceBinaryWSFrames&&typeof g=="string"&&(g=new TextEncoder().encode(g)),typeof g!="string"||!this.splitLargeFrames)this._webSocket.send(g);else{let y=g;for(;y.length>0;){let w=y.substring(0,this.maxWebSocketChunkSize);y=y.substring(this.maxWebSocketChunkSize),this._webSocket.send(w),this.debug(`chunk sent = ${w.length}, remaining = ${y.length}`)}}}dispose(){if(this.connected)try{let e=Object.assign({},this.disconnectHeaders);e.receipt||(e.receipt=`close-${this._counter++}`),this.watchForReceipt(e.receipt,r=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(r)}),this._transmit({command:"DISCONNECT",headers:e})}catch(e){this.debug(`Ignoring error during disconnect ${e}`)}else(this._webSocket.readyState===W.CONNECTING||this._webSocket.readyState===W.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&clearInterval(this._pinger),this._ponger&&clearInterval(this._ponger)}publish(e){let{destination:r,headers:t,body:n,binaryBody:i,skipContentLengthHeader:c}=e,p=Object.assign({destination:r},t);this._transmit({command:"SEND",headers:p,body:n,binaryBody:i,skipContentLengthHeader:c})}watchForReceipt(e,r){this._receiptWatchers[e]=r}subscribe(e,r,t={}){t=Object.assign({},t),t.id||(t.id=`sub-${this._counter++}`),t.destination=e,this._subscriptions[t.id]=r,this._transmit({command:"SUBSCRIBE",headers:t});let n=this;return{id:t.id,unsubscribe(i){return n.unsubscribe(t.id,i)}}}unsubscribe(e,r={}){r=Object.assign({},r),delete this._subscriptions[e],r.id=e,this._transmit({command:"UNSUBSCRIBE",headers:r})}begin(e){let r=e||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:r}});let t=this;return{id:r,commit(){t.commit(r)},abort(){t.abort(r)}}}commit(e){this._transmit({command:"COMMIT",headers:{transaction:e}})}abort(e){this._transmit({command:"ABORT",headers:{transaction:e}})}ack(e,r,t={}){t=Object.assign({},t),this._connectedVersion===E.V1_2?t.id=e:t["message-id"]=e,t.subscription=r,this._transmit({command:"ACK",headers:t})}nack(e,r,t={}){return t=Object.assign({},t),this._connectedVersion===E.V1_2?t.id=e:t["message-id"]=e,t.subscription=r,this._transmit({command:"NACK",headers:t})}};var _t=function(o,e,r,t){function n(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function p(w){try{y(t.next(w))}catch(x){c(x)}}function g(w){try{y(t.throw(w))}catch(x){c(x)}}function y(w){w.done?i(w.value):n(w.value).then(p,g)}y((t=t.apply(o,e||[])).next())})},Le=class{constructor(e={}){this.stompVersions=E.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.state=P.INACTIVE;let r=()=>{};this.debug=r,this.beforeConnect=r,this.onConnect=r,this.onDisconnect=r,this.onUnhandledMessage=r,this.onUnhandledReceipt=r,this.onUnhandledFrame=r,this.onStompError=r,this.onWebSocketClose=r,this.onWebSocketError=r,this.logRawCommunication=!1,this.onChangeState=r,this.connectHeaders={},this._disconnectHeaders={},this.configure(e)}get webSocket(){return this._stompHandler?this._stompHandler._webSocket:void 0}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(e){this._disconnectHeaders=e,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===P.ACTIVE}_changeState(e){this.state=e,this.onChangeState(e)}configure(e){Object.assign(this,e)}activate(){if(this.state===P.DEACTIVATING)throw this.debug("Still DEACTIVATING, please await call to deactivate before trying to re-activate"),new Error("Still DEACTIVATING, can not activate now");if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(P.ACTIVE),this._connect()}_connect(){return _t(this,void 0,void 0,function*(){if(this.connected){this.debug("STOMP: already connected, nothing to do");return}if(yield this.beforeConnect(),!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");let e=this._createWebSocket();this._stompHandler=new He(this,e,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:r=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(r)},onDisconnect:r=>{this.onDisconnect(r)},onStompError:r=>{this.onStompError(r)},onWebSocketClose:r=>{this._stompHandler=void 0,this.state===P.DEACTIVATING&&(this._resolveSocketClose(),this._resolveSocketClose=void 0,this._changeState(P.INACTIVE)),this.onWebSocketClose(r),this.active&&this._schedule_reconnect()},onWebSocketError:r=>{this.onWebSocketError(r)},onUnhandledMessage:r=>{this.onUnhandledMessage(r)},onUnhandledReceipt:r=>{this.onUnhandledReceipt(r)},onUnhandledFrame:r=>{this.onUnhandledFrame(r)}}),this._stompHandler.start()})}_createWebSocket(){let e;return this.webSocketFactory?e=this.webSocketFactory():e=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions()),e.binaryType="arraybuffer",e}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}deactivate(){return _t(this,void 0,void 0,function*(){let e;if(this.state!==P.ACTIVE)return this.debug(`Already ${P[this.state]}, ignoring call to deactivate`),Promise.resolve();if(this._changeState(P.DEACTIVATING),this._reconnector&&clearTimeout(this._reconnector),this._stompHandler&&this.webSocket.readyState!==W.CLOSED)e=new Promise((r,t)=>{this._resolveSocketClose=r});else return this._changeState(P.INACTIVE),Promise.resolve();return this._disposeStompHandler(),e})}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&(this._stompHandler.dispose(),this._stompHandler=null)}publish(e){this._stompHandler.publish(e)}watchForReceipt(e,r){this._stompHandler.watchForReceipt(e,r)}subscribe(e,r,t={}){return this._stompHandler.subscribe(e,r,t)}unsubscribe(e,r={}){this._stompHandler.unsubscribe(e,r)}begin(e){return this._stompHandler.begin(e)}commit(e){this._stompHandler.commit(e)}abort(e){this._stompHandler.abort(e)}ack(e,r,t={}){this._stompHandler.ack(e,r,t)}nack(e,r,t={}){this._stompHandler.nack(e,r,t)}};var O=function(o){return o[o.CONNECTING=0]="CONNECTING",o[o.OPEN=1]="OPEN",o[o.CLOSING=2]="CLOSING",o[o.CLOSED=3]="CLOSED",o}(O||{});var Ct=function(o,e,r,t){function n(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function p(w){try{y(t.next(w))}catch(x){c(x)}}function g(w){try{y(t.throw(w))}catch(x){c(x)}}function y(w){w.done?i(w.value):n(w.value).then(p,g)}y((t=t.apply(o,e||[])).next())})},Re=class{constructor(e){this._queuedMessages=[];let r=e||new Le;this._stompClient=r;let t=()=>{};this._beforeConnect=t,this._correlateErrors=()=>{},this._debug=t,this._connectionStatePre$=new fe(O.CLOSED),this._connectedPre$=this._connectionStatePre$.pipe(ve(n=>n===O.OPEN)),this.connectionState$=new fe(O.CLOSED),this.connected$=this.connectionState$.pipe(ve(n=>n===O.OPEN)),this.connected$.subscribe(()=>{this._sendQueuedMessages()}),this._serverHeadersBehaviourSubject$=new fe(null),this.serverHeaders$=this._serverHeadersBehaviourSubject$.pipe(ve(n=>n!==null)),this.stompErrors$=new q,this.unhandledMessage$=new q,this.unhandledReceipts$=new q,this.unhandledFrame$=new q,this.webSocketErrors$=new q}get stompClient(){return this._stompClient}configure(e){let r=Object.assign({},e);r.beforeConnect&&(this._beforeConnect=r.beforeConnect,delete r.beforeConnect),r.correlateErrors&&(this._correlateErrors=r.correlateErrors,delete r.correlateErrors),this._stompClient.configure(r),r.debug&&(this._debug=r.debug)}activate(){this._stompClient.configure({beforeConnect:()=>Ct(this,void 0,void 0,function*(){this._changeState(O.CONNECTING),yield this._beforeConnect(this)}),onConnect:e=>{this._serverHeadersBehaviourSubject$.next(e.headers),this._changeState(O.OPEN)},onStompError:e=>{this.stompErrors$.next(e)},onWebSocketClose:()=>{this._changeState(O.CLOSED)},onUnhandledMessage:e=>{this.unhandledMessage$.next(e)},onUnhandledReceipt:e=>{this.unhandledReceipts$.next(e)},onUnhandledFrame:e=>{this.unhandledFrame$.next(e)},onWebSocketError:e=>{this.webSocketErrors$.next(e)}}),this._stompClient.activate()}deactivate(){return Ct(this,void 0,void 0,function*(){this._changeState(O.CLOSING),yield this._stompClient.deactivate(),this._changeState(O.CLOSED)})}connected(){return this.connectionState$.getValue()===O.OPEN}get active(){return this.stompClient.active}publish(e){let r=e.retryIfDisconnected==null?!0:e.retryIfDisconnected;if(this.connected())this._stompClient.publish(e);else if(r)this._debug("Not connected, queueing"),this._queuedMessages.push(e);else throw new Error("Cannot publish while broker is not connected")}_sendQueuedMessages(){let e=this._queuedMessages;if(this._queuedMessages=[],e.length!==0){this._debug(`Will try sending  ${e.length} queued message(s)`);for(let r of e)this._debug(`Attempting to send ${r}`),this.publish(r)}}watch(e,r={}){let t={subHeaders:{},unsubHeaders:{},subscribeOnlyOnce:!1},n;return typeof e=="string"?n=Object.assign({},t,{destination:e,subHeaders:r}):n=Object.assign({},t,e),this._debug(`Request to subscribe ${n.destination}`),ce.create(c=>{let p,g,y=this._connectedPre$;n.subscribeOnlyOnce&&(y=y.pipe(Qe(1)));let w=this.stompErrors$.subscribe(x=>{this._correlateErrors(x)===n.destination&&c.error(x)});return g=y.subscribe(()=>{this._debug(`Will subscribe to ${n.destination}`);let x=n.subHeaders;typeof x=="function"&&(x=x()),p=this._stompClient.subscribe(n.destination,I=>{c.next(I)},x)}),()=>{if(this._debug(`Stop watching connection state (for ${n.destination})`),g.unsubscribe(),w.unsubscribe(),this.connected()){this._debug(`Will unsubscribe from ${n.destination} at Stomp`);let x=n.unsubHeaders;typeof x=="function"&&(x=x()),p.unsubscribe(x)}else this._debug(`Stomp not connected, no need to unsubscribe from ${n.destination} at Stomp`)}}).pipe(Je())}watchForReceipt(e,r){this._stompClient.watchForReceipt(e,r)}_changeState(e){this._connectionStatePre$.next(e),this.connectionState$.next(e)}};var Y={CLOSED:0,TRYING:1,CONNECTED:2,DISCONNECTING:3};Y[Y.CLOSED]="CLOSED";Y[Y.TRYING]="TRYING";Y[Y.CONNECTED]="CONNECTED";Y[Y.DISCONNECTING]="DISCONNECTING";var Ue=class extends Re{};var X=function(o){return o.Validation="validation",o.Settings="settings",o.Elements="elements",o.Add="add",o}(X||{}),We=function(o){return o.Alert="alert",o.Modal="modal",o.Buttons="buttons",o.Tabs="tabs",o.DataTable="data-table",o.Forms="forms",o}(We||{}),le=function(o){return o.Profile="profile",o.Users="users",o}(le||{});var St=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=S({type:e,selectors:[["app-admin-page-not-found"]],decls:4,vars:0,consts:[[1,"card","flex","flex-col","justify-center","items-center"],["src","https://i.ibb.co/qBTrGN5/error.png","alt","404 Error",1,"animated-image","h-80","object-cover"],[1,"text-2xl","md:text-3xl","lg:text-5xl","font-bold","tracking-wider","text-gray-500","mt-0","text-center","pb-6"]],template:function(n,i){n&1&&(a(0,"div",0),m(1,"img",1),a(2,"p",2),d(3,"Page non trouv\xE9e !!"),s()())}});let o=e;return o})();var zt={url:"",deserializer:o=>JSON.parse(o.data),serializer:o=>JSON.stringify(o)},qt="WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }",Pe=class o extends Ke{constructor(e,r){if(super(),this._socket=null,e instanceof ce)this.destination=r,this.source=e;else{let t=this._config=Object.assign({},zt);if(this._output=new q,typeof e=="string")t.url=e;else for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);if(!t.WebSocketCtor&&WebSocket)t.WebSocketCtor=WebSocket;else if(!t.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new be}}lift(e){let r=new o(this._config,this.destination);return r.operator=e,r.source=this,r}_resetState(){this._socket=null,this.source||(this.destination=new be),this._output=new q}multiplex(e,r,t){let n=this;return new ce(i=>{try{n.next(e())}catch(p){i.error(p)}let c=n.subscribe({next:p=>{try{t(p)&&i.next(p)}catch(g){i.error(g)}},error:p=>i.error(p),complete:()=>i.complete()});return()=>{try{n.next(r())}catch(p){i.error(p)}c.unsubscribe()}})}_connectSocket(){let{WebSocketCtor:e,protocol:r,url:t,binaryType:n}=this._config,i=this._output,c=null;try{c=r?new e(t,r):new e(t),this._socket=c,n&&(this._socket.binaryType=n)}catch(g){i.error(g);return}let p=new ge(()=>{this._socket=null,c&&c.readyState===1&&c.close()});c.onopen=g=>{let{_socket:y}=this;if(!y){c.close(),this._resetState();return}let{openObserver:w}=this._config;w&&w.next(g);let x=this.destination;this.destination=Xe.create(I=>{if(c.readyState===1)try{let{serializer:J}=this._config;c.send(J(I))}catch(J){this.destination.error(J)}},I=>{let{closingObserver:J}=this._config;J&&J.next(void 0),I&&I.code?c.close(I.code,I.reason):i.error(new TypeError(qt)),this._resetState()},()=>{let{closingObserver:I}=this._config;I&&I.next(void 0),c.close(),this._resetState()}),x&&x instanceof be&&p.add(x.subscribe(this.destination))},c.onerror=g=>{this._resetState(),i.error(g)},c.onclose=g=>{c===this._socket&&this._resetState();let{closeObserver:y}=this._config;y&&y.next(g),g.wasClean?i.complete():i.error(g)},c.onmessage=g=>{try{let{deserializer:y}=this._config;i.next(y(g))}catch(y){i.error(y)}}}_subscribe(e){let{source:r}=this;return r?r.subscribe(e):(this._socket||this._connectSocket(),this._output.subscribe(e),e.add(()=>{let{_socket:t}=this;this._output.observers.length===0&&(t&&(t.readyState===1||t.readyState===0)&&t.close(),this._resetState())}),e)}unsubscribe(){let{_socket:e}=this;e&&(e.readyState===1||e.readyState===0)&&e.close(),this._resetState(),super.unsubscribe()}};function Ge(o){return new Pe(o)}var K=(()=>{let e=class e{constructor(t){this.http=t}saveNewDemande(t){return this.http.post(T.apiUrl+"/demandes",t)}getAllDemandes(){return this.http.get(T.apiUrl+"/demandes")}getDemande(t){return this.http.get(T.apiUrl+"/demandes/demande/"+t)}getAllDemandesNotVerified(){return this.http.get(T.apiUrl+"/demandes/not-verified")}updateDemandeRejected(t){return this.http.put(T.apiUrl+"/demandes/"+t+"/rejected",null)}updateDemandeAccepted(t){return this.http.put(T.apiUrl+"/demandes/"+t+"/accepted",null)}updateDemandeUpdateAndAccepted(t,n){return this.http.put(T.apiUrl+"/demandes/"+t+"/update/accepted",n)}updateDemandeUpdate(t,n){return this.http.put(T.apiUrl+"/demandes/"+t+"/update",n)}};e.\u0275fac=function(n){return new(n||e)(we(ke))},e.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();var ze=(()=>{let e=class e{goToTop(){window.scrollTo({top:0,behavior:"smooth"})}onWindowScroll(){let t=document.getElementById("to-top-button");t&&(document.body.scrollTop>500||document.documentElement.scrollTop>500?t.classList.remove("hidden"):t.classList.add("hidden"))}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=S({type:e,selectors:[["app-scroll-to-top"]],hostBindings:function(n,i){n&1&&h("scroll",function(){return i.onWindowScroll()},!1,et)},standalone:!0,features:[ee],decls:5,vars:0,consts:[["id","to-top-button","title","Aller en haut",1,"animate-bounce","animate-infinite","animate-duration-[4000ms]","animate-ease-in-out","hidden","fixed","z-50","bottom-5","right-10","p-4","border-0","w-14","h-14","rounded-full","shadow-md","bg-emerald-500","hover:bg-emerald-700","text-white","text-lg","font-semibold","transition-colors","duration-300",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-6","h-6"],["d","M12 4l8 8h-6v8h-4v-8H4l8-8z"],[1,"sr-only"]],template:function(n,i){n&1&&(a(0,"button",0),h("click",function(){return i.goToTop()}),L(),a(1,"svg",1),m(2,"path",2),s(),R(),a(3,"span",3),d(4,"Aller en haut"),s()())}});let o=e;return o})();function Wt(o,e){o&1&&(a(0,"div",2)(1,"div",2)(2,"div",3),L(),a(3,"svg",4),m(4,"path",5)(5,"circle",6)(6,"path",7),s(),R(),a(7,"h1",8),d(8,"Aucune demande"),s(),a(9,"p",9),d(10,"Il n'y a actuellement aucune demande \xE0 traiter."),s()()()())}function Gt(o,e){o&1&&(a(0,"div"),m(1,"router-outlet",28),s())}function Yt(o,e){if(o&1){let r=F();a(0,"div",11)(1,"div",12)(2,"div",13),L(),a(3,"svg",14)(4,"g",15),m(5,"circle",16)(6,"polygon",17)(7,"path",18)(8,"path",19)(9,"circle",20)(10,"polygon",21)(11,"path",22),s()(),R(),a(12,"div",23)(13,"span",24),d(14),s()()(),a(15,"div",25)(16,"button",26),h("click",function(){let i=b(r).$implicit,c=f(2);return v(c.loadTest(i))}),m(17,"lord-icon",27),s()()(),k(18,Gt,2,0,"div",1),s()}if(o&2){let r=e.$implicit,t=f(2);l(14),$(" ",r.demandeMarchandName," "),l(4),u("ngIf",t.currentDemandeId===r.demandeId)}}function Xt(o,e){if(o&1&&(a(0,"div"),k(1,Yt,19,2,"div",10),s()),o&2){let r=f();l(),u("ngForOf",r.unverifiedDemandes)}}var Et=(()=>{let e=class e{constructor(t,n){this.demandeService=t,this.router=n,this.unverifiedDemandes=[],this.currentDemandeId=null,this.socket$=Ge("ws://your-backend-url")}ngOnInit(){this.getAllDemandesNotVerified()}pollDemandes(){setInterval(()=>{this.getAllDemandesNotVerified()},5e3)}getAllDemandesNotVerified(){this.demandeService.getAllDemandesNotVerified().subscribe(t=>{this.unverifiedDemandes=t},t=>{console.error("Error fetching unverified demandes:",t)})}loadTest(t){this.currentDemandeId===t.demandeId?(this.router.navigate(["commercial","validation"]),this.currentDemandeId=null):(this.currentDemandeId=t.demandeId,this.router.navigate(["commercial","validation",{outlets:{demande:["marchand",t.demandeId]}}]))}};e.\u0275fac=function(n){return new(n||e)(_(K),_(Ie))},e.\u0275cmp=S({type:e,selectors:[["app-validation"]],decls:4,vars:3,consts:[["class","grid h-screen place-content-center bg-white px-4",4,"ngIf"],[4,"ngIf"],[1,"grid","h-screen","place-content-center","bg-white","px-4"],[1,"text-center"],["xmlns","http://www.w3.org/2000/svg","enable-background","new 0 0 195.627 189.046","viewBox","0 0 195.627 189.046","id","businessman",1,"mx-auto","h-56","w-auto","text-black","sm:h-64"],["d",`M144.022,173.075l8.206-33.412l-18.737,3.968c-1.041,0.221-2.106,0.333-3.164,0.333c-2.618,0-5.214-0.695-7.497-1.985
            c-2.283,1.289-4.88,1.983-7.498,1.983c-1.056,0-2.119-0.111-3.159-0.332l-18.737-3.968l8.206,33.412
            c0.524,2.133,0.559,4.27,0.194,6.304h41.993C143.463,177.345,143.498,175.208,144.022,173.075z`,"fill","#52cc99",1,"color000000","svgShape"],["cx","122.832","cy","22.5","r","22.5","fill","#52cc99",1,"color000000","svgShape"],["d","M56.335 135.529c.573.125 1.146.186 1.711.185 3.68 0 6.993-2.555 7.809-6.298 3.641-16.709 8.764-29.238 14.1-38.53 4.367-7.606 8.873-13.034 12.833-16.794 1.042-.989 2.048-1.872 3-2.639v40.598l-20.417-4.324c-.271-.057-.542-.08-.814-.119-2.457 6.41-4.703 13.788-6.552 22.275-.53 2.433-1.933 4.511-3.827 5.946l10.759 43.804c1.373 5.589 6.378 9.331 11.887 9.331.968 0 1.95-.116 2.932-.356 6.57-1.614 10.588-8.248 8.975-14.818l-9.346-38.052 23.411 4.958c3.662.774 7.288-.182 10.037-2.309 2.749 2.129 6.376 3.086 10.04 2.309l23.411-4.958-9.346 38.052c-1.613 6.57 2.404 13.205 8.975 14.818.981.241 1.964.356 2.932.356 5.508 0 10.514-3.743 11.887-9.331l10.759-43.804c-1.894-1.435-3.297-3.513-3.827-5.946-1.85-8.487-4.095-15.865-6.552-22.275-.271.039-.543.061-.814.119l-20.415 4.323V71.455c.953.767 1.958 1.65 3 2.639 3.959 3.759 8.464 9.187 12.831 16.792 5.336 9.292 10.458 21.821 14.1 38.53.815 3.743 4.129 6.298 7.809 6.298.564 0 1.138-.06 1.711-.185 4.317-.941 7.055-5.203 6.113-9.52-4.075-18.699-9.976-32.695-15.835-42.936-3.493-6.105-6.971-10.876-10.038-14.511-5.717-6.775-11.991-11.96-17.845-14.95-2.624-1.341-5.16-2.231-7.526-2.63-.653-.179-1.337-.283-2.047-.283h-38.635c-.709 0-1.392.103-2.044.282-2.367.398-4.904 1.289-7.529 2.63-5.855 2.99-12.13 8.176-17.848 14.952-3.067 3.635-6.545 8.406-10.038 14.511-5.859 10.241-11.76 24.237-15.835 42.936C49.28 130.325 52.017 134.588 56.335 135.529zM119.031 58.882h3.801 3.799l1.9 7.5-.289.456c-1.566 1.306-3.484 1.96-5.412 1.962-1.928-.002-3.843-.655-5.408-1.958l-.292-.46L119.031 58.882zM118.803 71.06c1.297.486 2.662.74 4.027.739h.002c0 0 .004 0 .006 0 1.363 0 2.725-.254 4.021-.74l5.473 40.322-9.5 12-9.5-12L118.803 71.06zM41.417 139.046h-31v9.667H0v40.333h51.833v-40.333H41.417V139.046zM36.917 148.712h-22v-5.167h22V148.712z","fill","#52cc99",1,"color000000","svgShape"],[1,"mt-6","text-2xl","font-bold","tracking-tight","text-gray-900","sm:text-4xl"],[1,"mt-4","text-gray-500"],["class","flex mb-8 flex-col p-8 bg-white shadow-md hover:shodow-lg rounded-2xl",4,"ngFor","ngForOf"],[1,"flex","mb-8","flex-col","p-8","bg-white","shadow-md","hover:shodow-lg","rounded-2xl"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","enable-background","new 0 0 64 64","viewBox","0 0 64 64","id","Partner",1,"w-16","h-16","rounded-2xl","p-3","border","border-emerald-100","text-emerald-400","bg-emerald-50"],["fill","#52cc99",1,"color000000","svgShape"],["cx","19","cy","10","r","4","fill","#52cc99",1,"color000000","svgShape"],["points","19 21.36 21.72 17.91 19 15.22 16.28 17.91","fill","#52cc99",1,"color000000","svgShape"],["d","M32 57.81C18.32 57.81 7.19 46.68 7.19 33c0-.55.45-1 1-1 .55 0 1 .45 1 1 0 12.58 10.23 22.81 22.81 22.81.55 0 1 .45 1 1S32.55 57.81 32 57.81zM55.81 34c-.55 0-1-.45-1-1 0-12.58-10.23-22.81-22.81-22.81-.55 0-1-.45-1-1s.45-1 1-1c13.68 0 24.81 11.13 24.81 24.81C56.81 33.55 56.36 34 55.81 34z","fill","#52cc99",1,"color000000","svgShape"],["d","M46.69 30.94c-.46 0-.88-.32-.98-.8C44.37 23.69 38.6 19 32 19c-.55 0-1-.45-1-1s.45-1 1-1c7.55 0 14.14 5.36 15.67 12.73.11.54-.24 1.07-.78 1.18C46.82 30.93 46.75 30.94 46.69 30.94zM32 49c-7.9 0-14.55-5.66-15.8-13.45-.09-.54.28-1.06.83-1.15.55-.09 1.06.28 1.15.83C19.27 42.05 25.08 47 32 47c.55 0 1 .45 1 1S32.55 49 32 49zM24.57 14.17c-.43-.29-1.02-.2-1.34.21l-1.6 2.03.8.78c.36.36.4.93.08 1.33l-2.72 3.45c-.19.24-.48.38-.79.38s-.6-.14-.79-.38l-2.72-3.45c-.32-.4-.28-.97.08-1.33l.8-.78-1.6-2.03c-.32-.41-.91-.5-1.34-.21C10.58 16.09 10 18.78 10 22.23c0 5.2 5.61 9.77 9 9.77s9-4.56 9-9.77C28 18.78 27.42 16.09 24.57 14.17z","fill","#52cc99",1,"color000000","svgShape"],["cx","47","cy","37","r","4","fill","#52cc99",1,"color000000","svgShape"],["points","47 48.36 49.72 44.91 47 42.22 44.28 44.91","fill","#52cc99",1,"color000000","svgShape"],["d",`M52.57,41.17c-0.43-0.29-1.02-0.2-1.34,0.21l-1.6,2.03l0.8,0.78c0.36,0.36,0.4,0.93,0.08,1.33l-2.72,3.45
                c-0.19,0.24-0.48,0.38-0.79,0.38s-0.6-0.14-0.79-0.38l-2.72-3.45c-0.32-0.4-0.28-0.97,0.08-1.33l0.8-0.78l-1.6-2.03
                c-0.32-0.41-0.91-0.5-1.34-0.21C38.58,43.09,38,45.78,38,49.23c0,5.2,5.61,9.77,9,9.77s9-4.56,9-9.77
                C56,45.78,55.42,43.09,52.57,41.17z`,"fill","#52cc99",1,"color000000","svgShape"],[1,"flex","flex-col","ml-3"],[1,"text-gray-700","font-extrabold","text-lg","inline-block","stroke-current"],[1,"hover:scale-110","duration-700"],["type","button",1,"mt-3","w-full","inline-flex","justify-center","rounded-md","border","hover:shadow-lg","border-gray-300","shadow-sm","px-4","py-2","bg-white","text-base","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-200","sm:mt-0","sm:ml-3","sm:w-auto","sm:text-sm",3,"click"],["src","https://cdn.lordicon.com/vfczflna.json","trigger","click","stroke","bold","state","hover-look-around",2,"width","27px","height","27px"],["name","demande"]],template:function(n,i){n&1&&(a(0,"div"),k(1,Wt,11,0,"div",0)(2,Xt,2,1,"div",1),s(),m(3,"app-scroll-to-top")),n&2&&(u("@pageTransition",void 0),l(),u("ngIf",i.unverifiedDemandes.length===0),l(),u("ngIf",i.unverifiedDemandes.length>0))},dependencies:[lt,U,Me,ze],data:{animation:[te]}});let o=e;return o})();function Kt(o,e){if(o&1){let r=F();a(0,"div",7)(1,"button",8),d(2,"Deactivate"),s(),a(3,"button",9),h("click",function(){b(r);let n=f();return v(n.onModalClose())}),d(4,"Cancel"),s()()}}var Qt=["*"],Mt=(()=>{let e=class e{constructor(){this.show=!1,this.title="Modal",this.size="xl:max-w-7xl",this.footer=!0,this.closeModal=new xe}onModalClose(){this.show=!1,this.closeModal.emit(this.show)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=S({type:e,selectors:[["app-modal"]],inputs:{show:"show",title:"title",size:"size",footer:"footer"},outputs:{closeModal:"closeModal"},standalone:!0,features:[ee],ngContentSelectors:Qt,decls:8,vars:4,consts:[["role","dialog",1,"modal"],[1,"modal-backdrop"],[1,"modal-wrapper"],[1,"modal-container"],[1,"modal-box",3,"ngClass"],[1,"bg-white","px-4","pb-4","pt-5","sm:p-6","sm:pb-4"],["class","bg-slate-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",4,"ngIf"],[1,"bg-slate-50","px-4","py-3","sm:flex","sm:flex-row-reverse","sm:px-6"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-red-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-sm","hover:bg-red-500","sm:ml-3","sm:w-auto"],["type","button",1,"mt-3","inline-flex","w-full","justify-center","rounded-md","bg-white","px-3","py-2","text-sm","font-semibold","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","hover:bg-gray-50","sm:mt-0","sm:w-auto",3,"click"]],template:function(n,i){n&1&&(it(),a(0,"div",0),m(1,"div",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),rt(6),s(),k(7,Kt,5,0,"div",6),s()()()()),n&2&&(nt("aria-labelledby",i.title)("aria-modal",i.show),l(4),u("ngClass",i.size),l(3),u("ngIf",i.footer))},dependencies:[N,Se,U],styles:[".modal[_ngcontent-%COMP%]{position:relative;z-index:10}.modal[aria-modal=false][_ngcontent-%COMP%]{visibility:hidden;opacity:0;transition-duration:.5s;transition-timing-function:cubic-bezier(.4,0,1,1)}.modal[aria-modal=true][_ngcontent-%COMP%]{visibility:visible;opacity:1;transition-duration:.3s;transition-timing-function:cubic-bezier(0,0,.2,1)}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:rgb(15 23 42 / var(--tw-bg-opacity));--tw-bg-opacity: .75;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.modal-wrapper[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:10;width:100vw;overflow-y:auto}.modal-container[_ngcontent-%COMP%]{display:flex;min-height:100%;align-items:center;justify-content:center;padding:1rem;text-align:center}.modal-box[_ngcontent-%COMP%]{position:relative;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));overflow:hidden;border-radius:.75rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));text-align:left;--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}@media (min-width: 640px){.modal-box[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem}}.modal[aria-modal=true][_ngcontent-%COMP%]   .modal-box[_ngcontent-%COMP%]{--tw-translate-y: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:1;transition-duration:.3s;transition-timing-function:cubic-bezier(0,0,.2,1)}@media (min-width: 640px){.modal[aria-modal=true][_ngcontent-%COMP%]   .modal-box[_ngcontent-%COMP%]{--tw-scale-x: 1;--tw-scale-y: 1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}}.modal[aria-modal=false][_ngcontent-%COMP%]   .modal-box[_ngcontent-%COMP%]{--tw-translate-y: 1rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:0;transition-duration:.2s;transition-timing-function:cubic-bezier(.4,0,1,1)}@media (min-width: 640px){.modal[aria-modal=false][_ngcontent-%COMP%]   .modal-box[_ngcontent-%COMP%]{--tw-translate-y: 0px;--tw-scale-x: .95;--tw-scale-y: .95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}}"]});let o=e;return o})();var It=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=H({type:e}),e.\u0275inj=j({imports:[N,Mt]});let o=e;return o})();function Jt(o,e){o&1&&m(0,"div",27)}function Zt(o,e){if(o&1){let r=F();a(0,"div",28)(1,"div",29)(2,"div",30)(3,"button",31),h("click",function(){b(r);let n=f();return v(n.toggleAccept())}),L(),a(4,"svg",32),m(5,"path",33),s(),R(),m(6,"span",34),s(),L(),a(7,"svg",35),m(8,"path",36),s(),R(),a(9,"p",37),d(10,"\xCAtes-vous s\xFBr de vouloir accepter cette demande?"),s(),a(11,"div",38)(12,"button",39),h("click",function(){b(r);let n=f();return v(n.toggleAccept())}),d(13," Non, annuler "),s(),a(14,"button",40),h("click",function(){b(r);let n=f();return v(n.updateDemandeAccepted(n.demande.demandeId))}),d(15," Oui, je suis s\xFBr "),s()()()()()}}function en(o,e){o&1&&m(0,"div",27)}function tn(o,e){o&1&&(a(0,"button",45),L(),a(1,"svg",46),m(2,"path",47),s(),R(),a(3,"span",48),d(4,"Processing ..."),s()())}function nn(o,e){if(o&1){let r=F();a(0,"button",49),h("click",function(){b(r);let n=f(2);return v(n.startReject(n.demande.demandeId))}),m(1,"i",50),d(2," Oui, je suis s\xFBr "),s()}}function rn(o,e){if(o&1){let r=F();a(0,"div",28)(1,"div",29)(2,"div",30)(3,"button",31),h("click",function(){b(r);let n=f();return v(n.toggleReject())}),L(),a(4,"svg",32),m(5,"path",33),s(),R(),m(6,"span",34),s(),L(),a(7,"svg",41),m(8,"path",42),s(),R(),a(9,"p",37),d(10,"\xCAtes-vous s\xFBr de vouloir supprimer cette demande?"),s(),a(11,"div",38)(12,"button",39),h("click",function(){b(r);let n=f();return v(n.toggleReject())}),d(13," Non, annuler "),s(),a(14,"section"),k(15,tn,5,0,"button",43)(16,nn,3,0,"ng-template",null,44,me),s()()()()()}if(o&2){let r=z(17),t=f();l(15),u("ngIf",t.loading)("ngIfElse",r)}}function on(o,e){o&1&&m(0,"div",27)}function an(o,e){o&1&&(_e(0),m(1,"i",88),d(2," Logo URL "),Ce())}function sn(o,e){if(o&1&&(m(0,"img",89),a(1,"span",90),d(2," Logo URL"),s()),o&2){let r=f(2);u("src",r.editFormData.demandeMarchandLogoUrl,G)}}function dn(o,e){if(o&1){let r=F();a(0,"div",28)(1,"div",51)(2,"div",30)(3,"button",31),h("click",function(){b(r);let n=f();return v(n.toggleEdit())}),L(),a(4,"svg",32),m(5,"path",33),s(),R(),a(6,"span",34),d(7,"Close"),s()(),a(8,"div",52)(9,"h3",53),d(10,"Editer la demande"),s()(),a(11,"div",54)(12,"form",55,56),h("ngSubmit",function(){b(r);let n=z(13),i=f();return v(i.onSubmit(n,i.isAcceptedEdit))}),a(14,"div",57)(15,"div",58)(16,"input",59),h("ngModelChange",function(n){b(r);let i=f();return v(i.editFormData.demandeMarchandName=n)}),s(),a(17,"span",60),m(18,"i",61),d(19," Nom entit\xE9 "),s()(),a(20,"div",58)(21,"input",62),h("ngModelChange",function(n){b(r);let i=f();return v(i.editFormData.demandeMarchandLogoUrl=n)})("input",function(n){b(r);let i=f();return v(i.updateLogoUrl(n))}),s(),a(22,"span",60),k(23,an,3,0,"ng-container",63)(24,sn,3,1,"ng-template",null,64,me),s()(),a(26,"div",58)(27,"select",65),h("ngModelChange",function(n){b(r);let i=f();return v(i.editFormData.demandeMarchandFormejuridique=n)}),a(28,"option",66),d(29),s(),a(30,"option",67),d(31,"Entreprise"),s(),a(32,"option",68),d(33,"Auto-Entrepreneur"),s(),a(34,"option",69),d(35,"Association"),s()(),a(36,"span",60),m(37,"i",13),d(38," Forme juridique "),s()(),a(39,"div",58)(40,"input",70),h("ngModelChange",function(n){b(r);let i=f();return v(i.editFormData.demandeMarchandRcIf=n)}),s(),a(41,"span",60),m(42,"i",14),d(43," RC ou IF "),s()(),a(44,"div",58)(45,"input",71),h("ngModelChange",function(n){b(r);let i=f();return v(i.editFormData.demandeMarchandSiegeAddresse=n)}),s(),a(46,"span",60),m(47,"i",12),d(48," Adresse du si\xE8ge social "),s()(),a(49,"div",58)(50,"input",72),h("ngModelChange",function(n){b(r);let i=f();return v(i.editFormData.demandeMarchandDgName=n)}),s(),a(51,"span",60),m(52,"i",15),d(53," Nom du DG "),s()(),a(54,"div",58)(55,"input",73),h("ngModelChange",function(n){b(r);let i=f();return v(i.editFormData.demandeMarchandTypeActivite=n)}),s(),a(56,"span",60),m(57,"i",17),d(58," Type de l'activit\xE9 "),s()(),a(59,"div",58)(60,"input",74),h("ngModelChange",function(n){b(r);let i=f();return v(i.editFormData.demandeMarchandHost=n)}),s(),a(61,"span",60),m(62,"i",11),d(63," Adresse site web "),s()(),a(64,"div",58)(65,"input",75),h("ngModelChange",function(n){b(r);let i=f();return v(i.editFormData.demandeMarchandEmail=n)}),s(),a(66,"span",60),m(67,"i",76),d(68," Adresse email "),s()(),a(69,"div",58)(70,"input",77),h("ngModelChange",function(n){b(r);let i=f();return v(i.editFormData.demandeMarchandPhone=n)}),s(),a(71,"span",60),m(72,"i",9),d(73," Num\xE9ro de t\xE9l\xE9phone "),s()(),a(74,"div",78)(75,"select",79),h("ngModelChange",function(n){b(r);let i=f();return v(i.editFormData.demandeMarchandAnneeActivite=n)}),a(76,"option",80),d(77),s(),a(78,"option",81),d(79,"Moins < 1 an"),s(),a(80,"option",82),d(81,"1 an \xE0 5 ans"),s(),a(82,"option",83),d(83,"Plus > 5 ans"),s()(),a(84,"span",60),m(85,"i",16),d(86," Ann\xE9es d'activit\xE9 "),s()(),a(87,"div",78)(88,"textarea",84),h("ngModelChange",function(n){b(r);let i=f();return v(i.editFormData.demandeMarchandDescription=n)}),s(),a(89,"span",60),m(90,"i",20),d(91," Description "),s()()()()(),a(92,"div",85)(93,"button",39),h("click",function(){b(r);let n=f();return v(n.toggleEdit())}),d(94," Annuler "),s(),a(95,"button",86),h("click",function(){b(r);let n=z(13),i=f();return v(i.onSubmit(n,!1))}),d(96," Edit "),s(),a(97,"button",87),h("click",function(){b(r);let n=z(13),i=f();return v(i.onSubmit(n,!0))}),d(98," Edit & Accept "),s()()()()()}if(o&2){let r=z(25),t=f();l(16),D("placeholder",t.demande.demandeMarchandName),u("ngModel",t.editFormData.demandeMarchandName),l(5),D("placeholder",t.demande.demandeMarchandLogoUrl),u("ngModel",t.editFormData.demandeMarchandLogoUrl),l(2),u("ngIf",!t.isValidImageUrl(t.editFormData.demandeMarchandLogoUrl))("ngIfElse",r),l(4),u("ngModel",t.editFormData.demandeMarchandFormejuridique),l(2),A(t.demande.demandeMarchandFormejuridique),l(11),D("placeholder",t.demande.demandeMarchandRcIf),u("ngModel",t.editFormData.demandeMarchandRcIf),l(5),D("placeholder",t.demande.demandeMarchandSiegeAddresse),u("ngModel",t.editFormData.demandeMarchandSiegeAddresse),l(5),D("placeholder",t.demande.demandeMarchandDgName),u("ngModel",t.editFormData.demandeMarchandDgName),l(5),D("placeholder",t.demande.demandeMarchandDgName),u("ngModel",t.editFormData.demandeMarchandTypeActivite),l(5),D("placeholder",t.demande.demandeMarchandHost),u("ngModel",t.editFormData.demandeMarchandHost),l(5),D("placeholder",t.demande.demandeMarchandEmail),u("ngModel",t.editFormData.demandeMarchandEmail),l(5),D("placeholder",t.demande.demandeMarchandPhone),u("ngModel",t.editFormData.demandeMarchandPhone),l(5),u("ngModel",t.editFormData.demandeMarchandAnneeActivite),l(2),A(t.demande.demandeMarchandAnneeActivite),l(11),D("placeholder",t.demande.demandeMarchandDescription),u("ngModel",t.editFormData.demandeMarchandDescription)}}var Dt=(()=>{let e=class e{constructor(t,n,i,c){this.demandeService=t,this.route=n,this.fb=i,this.userService=c,this.loading=!1,this.modalOpen=!1,this.rejectOpen=!1,this.editModalOpen=!1,this.selectedOption="",this.editFormData={demandeMarchandName:"",demandeMarchandLogoUrl:"",demandeMarchandFormejuridique:"",demandeMarchandRcIf:"",demandeMarchandSiegeAddresse:"",demandeMarchandDgName:"",demandeMarchandTypeActivite:"",demandeMarchandHost:"",demandeMarchandEmail:"",demandeMarchandPhone:"",demandeMarchandAnneeActivite:"",demandeMarchandDescription:""},this.isAcceptedEdit=!1}ngOnInit(){this.route.params.subscribe(t=>{this.demandeId=t.demandeId,this.getDemande(this.demandeId)})}getDemande(t){this.demandeService.getDemande(t).subscribe(n=>{this.thisDemande=n},n=>{console.error("Error fetching demande:",n)})}startReject(t){this.loading=!0,this.updateDemandeRejected(t)}updateDemandeRejected(t){this.demandeService.updateDemandeRejected(t).subscribe(n=>{console.log("Demande rejected successfully:",n),window.location.href="/commercial/validation"},n=>{console.error("Error rejecting demande:",n)},()=>{this.loading=!1})}updateDemandeAccepted(t){this.demandeService.updateDemandeAccepted(t).subscribe(n=>{console.log("Demande accepted successfully:",n),this.demandeService.getDemande(t).subscribe(i=>{console.log("Fetched demande data:",i);let c={username:i.demandeMarchandName,firstName:"NaN",lastName:"NaN",email:i.demandeMarchandEmail,profilLogoUrl:i.demandeMarchandLogoUrl||"",roles:["ROLE_MARCHAND"],status:"Inactive",password:this.generatePassword()};this.userService.addUser(c).subscribe(()=>{console.log("User added successfully"),window.location.href="/commercial/validation"},p=>{console.error("Error adding user:",p),p&&p.error&&typeof p.error=="object"?p.error.general?p.error.general.forEach(g=>{console.error(`Error: ${g}`)}):console.error("Error response:",p.error):console.error("Unexpected error format:",p)})},i=>{console.error("Error fetching demande:",i)})},n=>{console.error("Error accepting demande:",n)})}generatePassword(t=8){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i="";for(let c=0;c<t;c++)i+=n.charAt(Math.floor(Math.random()*n.length));return console.log("password",i),i}updateDemandeUpdateAndAccepted(t,n){this.demandeService.updateDemandeUpdateAndAccepted(t,n).subscribe(i=>{this.toggleEdit(),console.log("Demande updated and accepted:",i),this.demandeService.getDemande(t).subscribe(c=>{console.log("Fetched demande data:",c);let p={username:c.demandeMarchandName,firstName:"NaN",lastName:"NaN",email:c.demandeMarchandEmail,profilLogoUrl:c.demandeMarchandLogoUrl||"",roles:["ROLE_MARCHAND"],status:"Inactive",password:this.generatePassword()};this.userService.addUser(p).subscribe(()=>{console.log("User added successfully"),location.reload()},g=>{console.error("Error adding user:",g)})},c=>{console.error("Error fetching demande:",c)})},i=>{console.error("Error updating and accepting demande:",i)})}get demande(){return this.thisDemande||{}}toggleAccept(){this.modalOpen=!this.modalOpen}toggleReject(){this.rejectOpen=!this.rejectOpen}handleChange(t){this.selectedOption=t.target.value}toggleEdit(){this.editModalOpen=!this.editModalOpen,this.editModalOpen&&(this.editFormData={demandeId:this.demande.demandeId,demandeMarchandName:this.demande.demandeMarchandName,demandeMarchandLogoUrl:this.demande.demandeMarchandLogoUrl,demandeMarchandFormejuridique:this.demande.demandeMarchandFormejuridique,demandeMarchandRcIf:this.demande.demandeMarchandRcIf,demandeMarchandSiegeAddresse:this.demande.demandeMarchandSiegeAddresse,demandeMarchandDgName:this.demande.demandeMarchandDgName,demandeMarchandTypeActivite:this.demande.demandeMarchandTypeActivite,demandeMarchandHost:this.demande.demandeMarchandHost,demandeMarchandEmail:this.demande.demandeMarchandEmail,demandeMarchandPhone:this.demande.demandeMarchandPhone,demandeMarchandAnneeActivite:this.demande.demandeMarchandAnneeActivite,demandeMarchandDescription:this.demande.demandeMarchandDescription})}onSubmit(t,n){let i=Ye({},this.editFormData);console.log(i),n?this.updateDemandeUpdateAndAccepted(this.demande.demandeId,i):this.demandeService.updateDemandeUpdate(this.demande.demandeId,i).subscribe(c=>{this.toggleEdit(),console.log("Demande updated:",c),location.reload()},c=>{console.error("Error updating demande:",c)})}updateLogoUrl(t){let n=t.target;n&&(this.editFormData.demandeMarchandLogoUrl=n.value)}isValidImageUrl(t){return/\.(jpg|jpeg|png|gif|svg)$/.test(t)}};e.\u0275fac=function(n){return new(n||e)(_(K),_(Ee),_(Oe),_(bt))},e.\u0275cmp=S({type:e,selectors:[["app-demande"]],standalone:!0,features:[ee],decls:71,vars:17,consts:[[1,"flex","flex-col","bg-white","sm:p-6"],[1,"flex","flex-row","flex-wrap","items-center","justify-around"],[1,"relative","h-32","w-32","sm:mb-0","mb-3"],["alt","Marchand Logo",1,"w-32","h-32","object-cover","rounded-2xl",3,"src"],[1,"flex-auto","sm:ml-5"],[1,"flex","flex-col"],[1,"w-full","flex-none","text-lg","text-gray-500","font-bold","leading-none"],[1,"flex-auto","text-gray-800","my-1"],[1,"text-sm","text-gray-400"],[1,"bi","bi-telephone"],[1,"text-gray-800"],[1,"bi","bi-pc-display"],[1,"bi","bi-geo-alt"],[1,"bi","bi-bank2"],[1,"bi","bi-pencil-square"],[1,"bi","bi-person-circle"],[1,"bi","bi-calendar3"],[1,"bi","bi-ui-checks-grid"],[1,"my-4"],[1,"text-sm","text-gray-400","leading-relaxed"],[1,"bi","bi-body-text"],[1,"flex","justify-end","items-center","mt-5"],["type","button",1,"w-full","inline-flex","justify-center","rounded-md","border","hover:shadow-lg","border-gray-300","shadow-sm","px-6","py-2","bg-yellow-500","text-base","font-medium","text-white","hover:bg-yellow-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-yellow-500","sm:ml-3","sm:w-auto","sm:text-sm",3,"click"],["type","button",1,"mt-3","w-full","inline-flex","justify-center","rounded-md","border","hover:shadow-lg","border-gray-300","shadow-sm","px-4","py-2","bg-white","text-base","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-800","sm:mt-0","sm:ml-3","sm:w-auto","sm:text-sm",3,"click"],["type","button",1,"w-full","inline-flex","justify-center","rounded-md","border","hover:shadow-lg","border-transparent","shadow-sm","px-4","py-2","bg-red-500","text-base","font-medium","text-white","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500","sm:ml-3","sm:w-auto","sm:text-sm",3,"click"],["class","fixed inset-0 bg-gray-900 bg-opacity-50 backdrop-filter backdrop-blur-sm",4,"ngIf"],["class","fixed inset-0 flex items-center justify-center",4,"ngIf"],[1,"fixed","inset-0","bg-gray-900","bg-opacity-50","backdrop-filter","backdrop-blur-sm"],[1,"fixed","inset-0","flex","items-center","justify-center"],[1,"relative","p-4","w-full","max-w-md","h-full","md:h-auto"],[1,"relative","p-4","text-center","bg-white","rounded-lg","shadow","dark:bg-gray-800","sm:p-5"],["type","button",1,"text-gray-400","absolute","top-2.5","right-2.5","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","p-1.5","ml-auto","inline-flex","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","enable-background","new 0 0 32 32","viewBox","0 0 32 32","id","virifiedperson",1,"text-gray-400","dark:text-gray-500","w-11","h-11","mb-3.5","mx-auto"],["d","M6.97998 6.64001c0 3.37994 2.75 6.12994 6.13 6.12994 3.39001 0 6.14001-2.75 6.14001-6.12994C19.25 3.25 16.5.5 13.10999.5 9.72998.5 6.97998 3.25 6.97998 6.64001zM1.15997 30c0 .82996.68005 1.5 1.5 1.5H23.56c.83002 0 1.5-.67004 1.5-1.5v-3.54999C25.06 19.85999 19.70001 14.5 13.10999 14.5c-6.57996 0-11.95001 5.35999-11.95001 11.95001V30zM30.396 7.56348c-.58594-.58594-1.53613-.58594-2.12109 0l-4.23291 4.2334-1.56348-1.56348c-.58594-.58594-1.53516-.58594-2.12109 0s-.58594 1.53516 0 2.12109l2.62402 2.62402c.28125.28125.6626.43945 1.06055.43945s.7793-.1582 1.06055-.43945L30.396 9.68457C30.98193 9.09863 30.98193 8.14941 30.396 7.56348z","fill","#6b7280",1,"color000000","svgShape"],[1,"mb-4","text-gray-500","dark:text-gray-300"],[1,"flex","justify-center","items-center","space-x-4"],["type","button",1,"py-2","px-3","text-sm","font-medium","text-gray-500","bg-white","rounded-lg","border","border-gray-200","hover:bg-gray-100","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-gray-900","focus:z-10","dark:bg-gray-700","dark:text-gray-300","dark:border-gray-500","dark:hover:text-white","dark:hover:bg-gray-600","dark:focus:ring-gray-600",3,"click"],["type","submit",1,"py-2","px-3","text-sm","font-medium","text-center","text-white","bg-emerald-600","rounded-lg","hover:bg-emerald-700","focus:ring-4","focus:outline-none","focus:ring-emerald-300","dark:bg-emerald-500","dark:hover:bg-emerald-600","dark:focus:ring-emerald-900",3,"click"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"text-gray-400","dark:text-gray-500","w-11","h-11","mb-3.5","mx-auto"],["fill-rule","evenodd","d","M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule","evenodd"],["type","button","class","inline-flex py-2 px-3 text-sm font-medium text-center text-white bg-red-600 rounded-lg hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300 dark:bg-red-500 dark:hover:bg-red-600 dark:focus:ring-red-900",4,"ngIf","ngIfElse"],["notLoadingReject",""],["type","button",1,"inline-flex","py-2","px-3","text-sm","font-medium","text-center","text-white","bg-red-600","rounded-lg","hover:bg-red-700","focus:ring-4","focus:outline-none","focus:ring-red-300","dark:bg-red-500","dark:hover:bg-red-600","dark:focus:ring-red-900"],["width","20","height","20","fill","currentColor","viewBox","0 0 1792 1792","xmlns","http://www.w3.org/2000/svg",1,"mr-2","animate-spin"],["d","M526 1394q0 53-37.5 90.5t-90.5 37.5q-52 0-90-38t-38-90q0-53 37.5-90.5t90.5-37.5 90.5 37.5 37.5 90.5zm498 206q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-704-704q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm1202 498q0 52-38 90t-90 38q-53 0-90.5-37.5t-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-964-996q0 66-47 113t-113 47-113-47-47-113 47-113 113-47 113 47 47 113zm1170 498q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-640-704q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm530 206q0 93-66 158.5t-158 65.5q-93 0-158.5-65.5t-65.5-158.5q0-92 65.5-158t158.5-66q92 0 158 66t66 158z"],[1,"ml-2"],["type","submit",1,"py-2","px-3","text-sm","font-medium","text-center","text-white","bg-red-600","rounded-lg","hover:bg-red-700","focus:ring-4","focus:outline-none","focus:ring-red-300","dark:bg-red-500","dark:hover:bg-red-600","dark:focus:ring-red-900",3,"click"],[1,"bi","bi-trash3"],[1,"p-4","w-full","max-w-2xl","h-full","md:h-auto"],[1,"flex","mb-3","items-start","justify-between","p-2","border-b","rounded-t"],[1,"text-xl","font-semibold"],[1,"p-6","space-y-6"],[3,"ngSubmit"],["editForm","ngForm"],[1,"grid","grid-cols-6","gap-6"],[1,"relative","mb-4","col-span-6","sm:col-span-3"],["name","demandeMarchandName","type","text","id","demandeMarchandName","required","",1,"shadow-sm","bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-cyan-600","focus:border-cyan-600","block","w-full","p-2.5",3,"ngModel","placeholder","ngModelChange"],[1,"absolute","-top-7","left-0","ps-3","text-gray-400"],[1,"bi","bi-shop"],["name","demandeMarchandLogoUrl","type","text","id","demandeMarchandLogoUrl","required","",1,"shadow-sm","bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-cyan-600","focus:border-cyan-600","block","w-full","p-2.5",3,"ngModel","placeholder","ngModelChange","input"],[4,"ngIf","ngIfElse"],["showImage",""],["id","demandeMarchandFormejuridique","name","demandeMarchandFormejuridique","required","",1,"form-select","w-full",3,"ngModel","ngModelChange"],["hidden","","value","demande.demandeMarchandFormejuridique"],["value","Entreprise"],["value","AutoEntrepreneur"],["value","Association"],["name","demandeMarchandRcIf","type","text","id","demandeMarchandRcIf","required","",1,"shadow-sm","bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-cyan-600","focus:border-cyan-600","block","w-full","p-2.5",3,"ngModel","placeholder","ngModelChange"],["name","demandeMarchandSiegeAddresse","type","text","id","demandeMarchandSiegeAddresse","required","",1,"shadow-sm","bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-cyan-600","focus:border-cyan-600","block","w-full","p-2.5",3,"ngModel","placeholder","ngModelChange"],["name","demandeMarchandDgName","type","text","id","demandeMarchandDgName","required","",1,"shadow-sm","bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-cyan-600","focus:border-cyan-600","block","w-full","p-2.5",3,"ngModel","placeholder","ngModelChange"],["name","demandeMarchandTypeActivite","type","text","id","demandeMarchandTypeActivite","required","",1,"shadow-sm","bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-cyan-600","focus:border-cyan-600","block","w-full","p-2.5",3,"ngModel","placeholder","ngModelChange"],["name","demandeMarchandHost","type","text","id","demandeMarchandHost","required","",1,"shadow-sm","bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-cyan-600","focus:border-cyan-600","block","w-full","p-2.5",3,"ngModel","placeholder","ngModelChange"],["name","demandeMarchandEmail","type","email","id","demandeMarchandEmail","required","",1,"shadow-sm","bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-cyan-600","focus:border-cyan-600","block","w-full","p-2.5",3,"ngModel","placeholder","ngModelChange"],[1,"bi","bi-envelope-at"],["name","demandeMarchandPhone","type","tel","id","demandeMarchandPhone","required","",1,"shadow-sm","bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-cyan-600","focus:border-cyan-600","block","w-full","p-2.5",3,"ngModel","placeholder","ngModelChange"],[1,"relative","mb-3","col-span-6","sm:col-span-3"],["id","demandeMarchandAnneeActivite","name","demandeMarchandAnneeActivite","required","",1,"form-select","w-full",3,"ngModel","ngModelChange"],["hidden","","value","demande.demandeMarchandAnneeActivite"],["value","MOINS_1_AN"],["value","UN_A_5_ANS"],["value","PLUS_5_ANS"],["name","demandeMarchandDescription","id","demandeMarchandDescription","required","",1,"shadow-sm","bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-cyan-600","focus:border-cyan-600","block","w-full","p-2.5",3,"ngModel","placeholder","ngModelChange"],[1,"px-6","pt-6","border-t","border-gray-200","rounded-b"],["type","button",1,"ml-3","py-2","px-6","text-sm","font-medium","text-center","text-white","bg-yellow-500","rounded-lg","hover:bg-yellow-600","focus:ring-4","focus:outline-none","focus:ring-yellow-300","dark:bg-yellow-500","dark:hover:bg-yellow-600","dark:focus:ring-yellow-900",3,"click"],["type","button",1,"ml-3","py-2","px-3","text-sm","font-medium","text-center","text-white","bg-emerald-500","rounded-lg","hover:bg-emerald-600","focus:ring-4","focus:outline-none","focus:ring-emerald-300","dark:bg-emerald-500","dark:hover:bg-emerald-600","dark:focus:ring-emerald-900",3,"click"],[1,"bi","bi-image-alt"],[1,"h-6","w-6","object-cover","rounded-sm","inline-block",2,"vertical-align","middle",3,"src"],[2,"vertical-align","middle"]],template:function(n,i){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),m(3,"img",3),s(),a(4,"div",4)(5,"div",5)(6,"div",6),d(7),s(),a(8,"div",7)(9,"p",8),m(10,"i",9),d(11," \xA0 Telephone: \xA0 "),a(12,"span",10),d(13),s()(),a(14,"p",8),m(15,"i",11),d(16," \xA0 Adress site web: \xA0 "),a(17,"span",10),d(18),s()(),a(19,"p",8),m(20,"i",12),d(21," \xA0 Adress di siege : \xA0 "),a(22,"span",10),d(23),s()(),a(24,"p",8),m(25,"i",13),d(26," \xA0 Forme juridique: \xA0 "),a(27,"span",10),d(28),s()()()()(),a(29,"div",4),m(30,"br"),a(31,"p",8),m(32,"i",14),d(33," \xA0 RC ou IF (A.E.): \xA0 "),a(34,"span",10),d(35),s()(),a(36,"p",8),m(37,"i",15),d(38," \xA0 Nom du DG: \xA0 "),a(39,"span",10),d(40),s()(),a(41,"p",8),m(42,"i",16),d(43," \xA0 Ann\xE9es d'activit\xE9: \xA0 "),a(44,"span",10),d(45),s()(),a(46,"p",8),m(47,"i",17),d(48," \xA0 Type de l'activit\xE9: \xA0 "),a(49,"span",10),d(50),s()()()(),m(51,"hr",18),a(52,"div")(53,"p",19),m(54,"i",20),d(55," \xA0 "),a(56,"span",10),d(57),s()()()(),a(58,"div",21)(59,"button",22),h("click",function(){return i.toggleEdit()}),d(60,"Edit"),s(),a(61,"button",23),h("click",function(){return i.toggleAccept()}),d(62," Accept "),s(),a(63,"button",24),h("click",function(){return i.toggleReject()}),d(64," Delete "),s()(),k(65,Jt,1,0,"div",25)(66,Zt,16,0,"div",26)(67,en,1,0,"div",25)(68,rn,18,2,"div",26)(69,on,1,0,"div",25)(70,dn,99,26,"div",26)),n&2&&(l(3),D("src",i.demande.demandeMarchandLogoUrl,G),l(4),$(" ",i.demande.demandeMarchandEmail," "),l(6),A(i.demande.demandeMarchandPhone),l(5),A(i.demande.demandeMarchandHost),l(5),A(i.demande.demandeMarchandSiegeAddresse),l(5),A(i.demande.demandeMarchandFormejuridique),l(7),A(i.demande.demandeMarchandRcIf),l(5),A(i.demande.demandeMarchandDgName),l(5),A(i.demande.demandeMarchandAnneeActivite),l(5),A(i.demande.demandeMarchandTypeActivite),l(7),A(i.demande.demandeMarchandDescription),l(8),u("ngIf",i.modalOpen),l(),u("ngIf",i.modalOpen),l(),u("ngIf",i.rejectOpen),l(),u("ngIf",i.rejectOpen),l(),u("ngIf",i.editModalOpen),l(),u("ngIf",i.editModalOpen))},dependencies:[N,U,It,se,oe,Ne,Te,ne,Ae,ie,re,ae,De,Fe]});let o=e;return o})();var Nt=(()=>{let e=class e{constructor(t,n){this.authService=t,this.route=n,this.currentPassword="",this.newPassword="",this.confirmPassword="",this.showPassword=!1}ngOnInit(){this.fetchUserId()}fetchUserId(){this.userId=this.authService.getAuthenticatedUserId()}onSubmit(t){if(this.newPassword!==this.confirmPassword){alert("New password and confirm password do not match.");return}this.authService.updatePassword(this.userId,this.currentPassword,this.newPassword).subscribe(n=>{console.log(n),alert(n.message),t.reset()},n=>{console.error(n),alert("An error occurred while updating the password.")})}togglePasswordVisibility(){this.showPassword=!this.showPassword}};e.\u0275fac=function(n){return new(n||e)(_(de),_(Ee))},e.\u0275cmp=S({type:e,selectors:[["app-profile"]],decls:28,vars:6,consts:[[1,"grid","grid-cols-1","px-4","pt-6","xl:grid-cols-3","xl:gap-4","dark:bg-gray-900"],[1,"col-span-4"],[1,"p-4","mb-4","bg-white","rounded-lg","shadow-sm","2xl:col-span-2","sm:p-6","dark:bg-gray-800"],[1,"mb-4","text-xl","font-semibold","dark:text-white"],[3,"ngSubmit"],["passwordForm","ngForm"],[1,"grid","grid-cols-6","gap-6"],[1,"col-span-6","sm:col-span-3"],["for","current-password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["name","currentPassword","id","current-password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"shadow-sm","bg-gray-50","border","text-gray-900","sm:text-sm","rounded-lg","focus:ring-emerald-500","focus:border-emerald-500","block","w-full","p-2.5","dark:bg-gray-700","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-emerald-500","dark:focus:border-emerald-500",3,"type","ngModel","ngModelChange"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","password","name","newPassword","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"bg-gray-50","border","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"type","ngModel","ngModelChange"],["for","confirm-password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["name","confirmPassword","id","confirm-password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"shadow-sm","bg-gray-50","border","text-gray-900","sm:text-sm","rounded-lg","focus:ring-emerald-500","focus:border-emerald-500","block","w-full","p-2.5","dark:bg-gray-700","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-emerald-500","dark:focus:border-emerald-500",3,"type","ngModel","ngModelChange"],[1,"col-span-6","sm:col-full"],[1,"inline-flex","items-center","gap-x-1"],["type","checkbox","id","showPassword",1,"h-auto","cursor-pointer",3,"change"],["for","showPassword",1,"cursor-pointer"],["type","submit",1,"text-white","bg-emerald-600","hover:bg-emerald-700","focus:ring-4","focus:ring-emerald-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-emerald-600","dark:hover:bg-emerald-600","dark:focus:ring-emerald-700"]],template:function(n,i){if(n&1){let c=F();a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),d(4,"Changer votre mot de passe"),s(),a(5,"form",4,5),h("ngSubmit",function(){b(c);let g=z(6);return v(i.onSubmit(g))}),a(7,"div",6)(8,"div",7)(9,"label",8),d(10,"Mot de passe actuel"),s(),a(11,"input",9),h("ngModelChange",function(g){return i.currentPassword=g}),s()(),a(12,"div",7)(13,"label",10),d(14,"Nouveau mot de passe"),s(),a(15,"input",11),h("ngModelChange",function(g){return i.newPassword=g}),s()(),a(16,"div",7)(17,"label",12),d(18,"Confirmer le mot de passe"),s(),a(19,"input",13),h("ngModelChange",function(g){return i.confirmPassword=g}),s()(),a(20,"div",14)(21,"div",15)(22,"input",16),h("change",function(){return i.togglePasswordVisibility()}),s(),a(23,"label",17),d(24,"Voir mot de passe"),s()()(),a(25,"div",14)(26,"button",18),d(27,"Tout sauvegarder"),s()()()()()()()}n&2&&(l(11),u("type",i.showPassword?"text":"password")("ngModel",i.currentPassword),l(4),u("type",i.showPassword?"text":"password")("ngModel",i.newPassword),l(4),u("type",i.showPassword?"text":"password")("ngModel",i.confirmPassword))},dependencies:[oe,ne,ie,re,ae,De,Fe],data:{animation:[te]}});let o=e;return o})();var Tt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=S({type:e,selectors:[["app-users"]],decls:3,vars:1,template:function(n,i){n&1&&(a(0,"div")(1,"p"),d(2,"users works!"),s()()),n&2&&u("@pageTransition",void 0)},data:{animation:[te]}});let o=e;return o})();var Ot=(()=>{let e=class e{constructor(t){this.http=t}getMarchands(){return this.http.get(T.apiUrl+"/marchand/all")}saveMarchand(t){return this.http.post(T.apiUrl+"/marchand/save",t)}deleteMarchand(t){return this.http.delete(T.apiUrl+"/marchand/delete/"+t)}editMarchand(t){return this.http.put(T.apiUrl+"/marchands/"+t.marchandId,t)}};e.\u0275fac=function(n){return new(n||e)(we(ke))},e.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();var cn=["fileInput"];function mn(o,e){o&1&&(a(0,"div",56),d(1," Veuillez entrer une adresse e-mail Gmail valide (ex: exemple@gmail.com). "),s())}function un(o,e){o&1&&(a(0,"div",56),d(1," Veuillez entrer un num\xE9ro de t\xE9l\xE9phone valide. "),s())}function pn(o,e){if(o&1){let r=F();a(0,"div",57)(1,"strong",58),d(2,"Ajout de marchand r\xE9ussi !"),s(),a(3,"span",59),d(4,"Le marchand a \xE9t\xE9 ajout\xE9 avec succ\xE8s."),s(),a(5,"span",60)(6,"lord-icon",61),h("click",function(){b(r);let n=f();return v(n.addMarchandReussie=!1)}),s()()()}}var B=o=>({"error-label":o}),V=o=>({"border-label":o}),Vt=(()=>{let e=class e{constructor(t,n){this.marchandService=t,this.fb=n,this.addMarchandReussie=!1,this.uploadOption=!0,this.imageUrl="",this.previewImageUrl="https://i.ibb.co/16Kjq1h/sondage-icons-4.png",console.log("Constructor - myForm:",this.myForm)}ngAfterViewInit(){console.log("ngAfterViewInit - myForm:",this.myForm)}toggleOption(){this.uploadOption=!this.uploadOption,this.imageUrl=""}openFileInput(){this.fileInput&&this.fileInput.nativeElement.click()}onFileSelected(t){let n=t.target.files[0]}loadFile(t){let i=t.target.files[0],c=new FileReader;c.onload=()=>{this.previewImageUrl=c.result},i&&c.readAsDataURL(i)}ngOnInit(){this.initializeForm()}initializeForm(){this.myForm=this.fb.group({username:[""],about:[""],rc:[""],addressesiege:[""],email:[""],telephone:[""],dgName:[""],webHost:[""],activite:[""],anneeActivite:[""],legalFormValue:[""],url:[""]})}submitForm(){if(this.myForm.markAllAsTouched(),this.myForm.valid){let t={marchandId:0,marchandName:this.myForm.get("username")?.value,marchandDescription:this.myForm.get("about")?.value,marchandRcIf:this.myForm.get("rc")?.value,marchandSiegeAddresse:this.myForm.get("addressesiege")?.value,marchandEmail:this.myForm.get("email")?.value,marchandPhone:this.myForm.get("telephone")?.value,marchandDgName:this.myForm.get("dgName")?.value,marchandHost:this.myForm.get("webHost")?.value,marchandTypeActivite:this.myForm.get("activite")?.value,marchandAnneeActivite:this.myForm.get("anneeActivite")?.value,marchandFormejuridique:this.myForm.get("legalFormValue")?.value,marchandLogoUrl:this.myForm.get("url")?.value,marchandStatus:"JustCreated",callback:"string",serviceId:"string",accessKey:"string",secretKey:"string"};this.marchandService.saveMarchand(t).subscribe(n=>{console.log("Merchant saved successfully:",n),this.myForm.reset(),this.addMarchandReussie=!0,setTimeout(()=>{this.addMarchandReussie=!1},3e3)},n=>{console.error("Error occurred while saving merchant:",n)})}}clearForm(){this.myForm.reset()}updatePreviewImageUrl(t){let n=t.target;n&&(this.previewImageUrl=n.value)}};e.\u0275fac=function(n){return new(n||e)(_(Ot),_(Oe))},e.\u0275cmp=S({type:e,selectors:[["app-addmarchandform"]],viewQuery:function(n,i){if(n&1&&st(cn,5),n&2){let c;at(c=dt())&&(i.fileInput=c.first)}},decls:100,vars:82,consts:[[1,"grid","grid-cols-1","my-4","gap-5"],[1,"card","p-8","2xl:col-span-2"],[1,"card-title"],[1,"text-xl","font-bold","leading-none"],[3,"formGroup","ngSubmit"],[1,"space-y-12"],[1,""],[1,"mt-10","grid","grid-cols-1","gap-x-6","gap-y-8","sm:grid-cols-6"],[1,"sm:col-span-3"],["for","url",1,"block","text-sm","font-medium","leading-6","text-gray-700",3,"ngClass"],[1,"mt-2","flex","items-center","gap-x-3"],[1,"shrink-0"],["id","preview_img",1,"h-14","w-14","object-cover","rounded-lg",3,"ngClass","src"],["required","","type","url","placeholder","Enter Image URL","formControlName","url",1,"rounded-md","px-2.5","py-1.5","text-sm","focus:ring-emerald-600","font-semibold","text-gray-900","shadow-sm","ring-1","focus:outline-none","ring-inset","ring-gray-300","hover:bg-gray-50",3,"ngModel","ngClass","ngModelChange","input"],[1,"sm:col-span-4"],["for","username",1,"block","text-sm","font-medium","leading-6","text-gray-700",3,"ngClass"],[1,"mt-2","flex","rounded-md","shadow-sm","ring-1","ring-inset","ring-gray-300","sm:max-w-md"],["type","text","formControlName","username","name","username","id","username","autocomplete","username","placeholder","(entreprise ou auto-entrepreneur)","required","",1,"rounded-md","pl-3","block","flex-1","border-0","bg-transparent","py-1.5","text-gray-900","placeholder:text-gray-200","focus:ring-1","focus:ring-emerald-600","focus:outline-none","sm:text-sm","sm:leading-6",3,"ngClass"],[1,"col-span-full"],["for","about",1,"block","text-sm","font-medium","leading-6","text-gray-900",3,"ngClass"],[1,"mt-2"],["formControlName","about","id","about","name","about","rows","3","autocomplete","about","placeholder","Description des produits ou serices vendus.","required","",1,"rounded-md","pl-3","block","w-full","py-1.5","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-200","focus:ring-1","focus:ring-emerald-600","focus:outline-none",3,"ngClass"],[1,"border-b","border-gray-900/10","pb-12"],[1,"grid","grid-cols-1","gap-x-6","gap-y-8","sm:grid-cols-6"],["for","rc",1,"block","text-sm","font-medium","leading-6","text-gray-900",3,"ngClass"],["required","","type","text","name","rc","id","rc","autocomplete","given-rc","formControlName","rc","required","",1,"pl-3","focus:outline-none","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-1","focus:ring-inset","focus:ring-emerald-600","sm:text-sm","sm:leading-6",3,"ngClass"],["for","addressesiege",1,"block","text-sm","font-medium","leading-6","text-gray-900",3,"ngClass"],["required","","type","text","name","addressesiege","id","addressesiege","autocomplete","addressesiege","formControlName","addressesiege",1,"pl-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-1","focus:outline-none","focus:ring-inset","focus:ring-emerald-600","sm:text-sm","sm:leading-6",3,"ngClass"],["for","email",1,"block","text-sm","font-medium","leading-6","text-gray-900",3,"ngClass"],["required","","id","email","name","email","type","email","autocomplete","email","formControlName","email","pattern","[a-zA-Z0-9._%+-]+@gmail\\.com",1,"pl-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-1","focus:outline-none","focus:ring-inset","focus:ring-emerald-600","sm:text-sm","sm:leading-6",3,"ngClass"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["for","telephone",1,"block","text-sm","font-medium","leading-6","text-gray-900",3,"ngClass"],["required","","type","tel","name","telephone","id","telephone","autocomplete","telephone","formControlName","telephone","pattern","\\+?\\d[\\d\\+\\s()-]*",1,"pl-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-1","focus:outline-none","focus:ring-inset","focus:ring-emerald-600","sm:text-sm","sm:leading-6",3,"ngClass"],["for","dgName",1,"block","text-sm","font-medium","leading-6","text-gray-900",3,"ngClass"],["required","","type","text","name","dgName","id","dgName","autocomplete","dgName","formControlName","dgName",1,"pl-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-1","focus:outline-none","focus:ring-inset","focus:ring-emerald-600","sm:text-sm","sm:leading-6",3,"ngClass"],["for","webHost",1,"block","text-sm","font-medium","leading-6","text-gray-900",3,"ngClass"],["required","","type","text","name","webHost","id","webHost","autocomplete","webHost","formControlName","webHost",1,"pl-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-1","focus:outline-none","focus:ring-inset","focus:ring-emerald-600","sm:text-sm","sm:leading-6",3,"ngClass"],[1,"sm:col-span-2","sm:col-start-1"],["for","activite",1,"block","text-sm","font-medium","leading-6","text-gray-900",3,"ngClass"],["required","","type","text","name","activite","id","activite","autocomplete","address-level2","formControlName","activite",1,"pl-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-1","focus:outline-none","focus:ring-inset","focus:ring-emerald-600","sm:text-sm","sm:leading-6",3,"ngClass"],[1,"sm:col-span-2"],["for","anneeActivite",1,"block","text-sm","font-medium","leading-6","text-gray-900",3,"ngClass"],["required","","id","anneeActivite","name","anneeActivite","autocomplete","anneeActivite","formControlName","anneeActivite",1,"pl-3","block","w-full","rounded-md","h-9","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","focus:ring-1","focus:outline-none","focus:ring-inset","focus:ring-emerald-600","sm:max-w-xs","sm:text-sm","sm:leading-6",3,"ngClass"],["value",""],["value","MOINS_1_AN"],["value","UN_A_5_ANS"],["value","PLUS_5_ANS"],["for","legalFormValue",1,"block","text-sm","font-medium","leading-6","text-gray-900",3,"ngClass"],["required","","id","legalFormValue","name","legalFormValue","autocomplete","legalFormValue-name","formControlName","legalFormValue",1,"pl-3","block","w-full","rounded-md","h-9","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","focus:ring-1","focus:outline-none","focus:ring-inset","focus:ring-emerald-600","sm:max-w-xs","sm:text-sm","sm:leading-6",3,"ngClass"],["value","Entreprise"],["value","AutoEntrepreneur"],["value","Association"],[1,"flex","flex-row","justify-start","pt-10"],["type","button",1,"text-white","mr-5","bg-red-700","hover:bg-red-800","focus:ring-4","focus:outline-none","focus:ring-red-300","font-medium","rounded-lg","text-sm","w-full","sm:w-auto","px-5","py-2.5","text-center","dark:bg-red-600","dark:hover:bg-red-700","dark:focus:ring-red-800",3,"click"],["type","submit",1,"text-white","bg-emerald-500","hover:bg-emerald-600","focus:ring-4","focus:outline-none","focus:ring-emerald-300","font-medium","rounded-lg","text-sm","w-full","sm:w-auto","px-5","py-2.5","text-center","dark:bg-emerald-600","dark:hover:bg-emerald-700","dark:focus:ring-emerald-800"],["class","bg-green-100 p-5 border border-green-400 text-green-700 px-4 py-3 rounded-lg relative","role","alert",4,"ngIf"],[1,"text-red-500","text-sm","mt-1"],["role","alert",1,"bg-green-100","p-5","border","border-green-400","text-green-700","px-4","py-3","rounded-lg","relative"],[1,"font-bold"],[1,"block","sm:inline"],[1,"absolute","top-0","bottom-0","right-0","px-4","py-3"],["src","https://cdn.lordicon.com/nqtddedc.json","trigger","hover","colors","primary:#15803d",2,"width","30px","height","30px",3,"click"]],template:function(n,i){if(n&1&&(a(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"h3",3),d(5,"Marchand form"),s()(),a(6,"form",4),h("ngSubmit",function(){return i.submitForm()}),a(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),d(12,"Photo"),s(),a(13,"div",10)(14,"div",11),m(15,"img",12),s(),a(16,"div")(17,"input",13),h("ngModelChange",function(p){return i.imageUrl=p})("input",function(p){return i.updatePreviewImageUrl(p)}),s()()()(),a(18,"div",14)(19,"label",15),d(20," Nom entit\xE9 "),s(),a(21,"div",16),m(22,"input",17),s()(),a(23,"div",18)(24,"label",19),d(25," Description "),s(),a(26,"div",20),m(27,"textarea",21),s()()()(),a(28,"div",22)(29,"div",23)(30,"div",8)(31,"label",24),d(32,"RC ou IF (\u0391.\u0395.)"),s(),a(33,"div",20),m(34,"input",25),s()(),a(35,"div",8)(36,"label",26),d(37,"Addresse du si\xE8ge social"),s(),a(38,"div",20),m(39,"input",27),s()(),a(40,"div",8)(41,"label",28),d(42," Adresse e-mail "),s(),a(43,"div",20),m(44,"input",29),k(45,mn,2,0,"div",30),s()(),a(46,"div",8)(47,"label",31),d(48," T\xE9l\xE9phone "),s(),a(49,"div",20),m(50,"input",32),k(51,un,2,0,"div",30),s()(),a(52,"div",8)(53,"label",33),d(54,"Nom du DG ou g\xE9rant"),s(),a(55,"div",20),m(56,"input",34),s()(),a(57,"div",8)(58,"label",35),d(59,"Adresse site web"),s(),a(60,"div",20),m(61,"input",36),s()(),a(62,"div",37)(63,"label",38),d(64,"Type de l'activit\xE9"),s(),a(65,"div",20),m(66,"input",39),s()(),a(67,"div",40)(68,"label",41),d(69,"Ann\xE9es d'activit\xE9"),s(),a(70,"div",20)(71,"select",42)(72,"option",43),d(73,"* Ann\xE9es d'activit\xE9"),s(),a(74,"option",44),d(75,"Moins < 1 an"),s(),a(76,"option",45),d(77,"1 an \xE0 5 ans"),s(),a(78,"option",46),d(79,"Plus > 5 ans"),s()()()(),a(80,"div",40)(81,"label",47),d(82," Forme juridique"),s(),a(83,"div",20)(84,"select",48)(85,"option",43),d(86,"* Forme juridique"),s(),a(87,"option",49),d(88,"Entreprise"),s(),a(89,"option",50),d(90,"Auto-Entrepreneur"),s(),a(91,"option",51),d(92,"Association"),s()()()()()()(),a(93,"div",52)(94,"button",53),h("click",function(){return i.clearForm()}),d(95,"Clear"),s(),a(96,"button",54),d(97,"Save"),s()()(),k(98,pn,7,0,"div",55),s()()(),m(99,"app-scroll-to-top")),n&2){let c,p;u("@pageTransition",void 0),l(6),u("formGroup",i.myForm),l(5),u("ngClass",C(32,B,i.myForm.get("url").invalid&&i.myForm.get("url").touched)),l(4),u("ngClass",C(34,V,i.myForm.get("url").invalid&&i.myForm.get("url").touched))("src",i.previewImageUrl,G),l(2),u("ngModel",i.imageUrl)("ngClass",C(36,V,i.myForm.get("url").invalid&&i.myForm.get("url").touched)),l(2),u("ngClass",C(38,B,i.myForm.get("username").invalid&&i.myForm.get("username").touched)),l(3),u("ngClass",C(40,V,i.myForm.get("username").invalid&&i.myForm.get("username").touched)),l(2),u("ngClass",C(42,B,i.myForm.get("about").invalid&&i.myForm.get("about").touched)),l(3),u("ngClass",C(44,V,i.myForm.get("about").invalid&&i.myForm.get("about").touched)),l(4),u("ngClass",C(46,B,i.myForm.get("rc").invalid&&i.myForm.get("rc").touched)),l(3),u("ngClass",C(48,V,i.myForm.get("rc").invalid&&i.myForm.get("rc").touched)),l(2),u("ngClass",C(50,B,i.myForm.get("addressesiege").invalid&&i.myForm.get("addressesiege").touched)),l(3),u("ngClass",C(52,V,i.myForm.get("addressesiege").invalid&&i.myForm.get("addressesiege").touched)),l(2),u("ngClass",C(54,B,i.myForm.get("email").invalid&&i.myForm.get("email").touched)),l(3),u("ngClass",C(56,V,i.myForm.get("email").invalid&&i.myForm.get("email").touched)),l(),u("ngIf",((c=i.myForm.get("email"))==null?null:c.hasError("pattern"))&&((c=i.myForm.get("email"))==null?null:c.touched)),l(2),u("ngClass",C(58,B,i.myForm.get("telephone").invalid&&i.myForm.get("telephone").touched)),l(3),u("ngClass",C(60,V,i.myForm.get("telephone").invalid&&i.myForm.get("telephone").touched)),l(),u("ngIf",((p=i.myForm.get("telephone"))==null?null:p.hasError("pattern"))&&((p=i.myForm.get("telephone"))==null?null:p.touched)),l(2),u("ngClass",C(62,B,i.myForm.get("dgName").invalid&&i.myForm.get("dgName").touched)),l(3),u("ngClass",C(64,V,i.myForm.get("dgName").invalid&&i.myForm.get("dgName").touched)),l(2),u("ngClass",C(66,B,i.myForm.get("webHost").invalid&&i.myForm.get("webHost").touched)),l(3),u("ngClass",C(68,V,i.myForm.get("webHost").invalid&&i.myForm.get("webHost").touched)),l(2),u("ngClass",C(70,B,i.myForm.get("activite").invalid&&i.myForm.get("activite").touched)),l(3),u("ngClass",C(72,V,i.myForm.get("activite").invalid&&i.myForm.get("activite").touched)),l(2),u("ngClass",C(74,B,i.myForm.get("anneeActivite").invalid&&i.myForm.get("anneeActivite").touched)),l(3),u("ngClass",C(76,V,i.myForm.get("anneeActivite").invalid&&i.myForm.get("anneeActivite").touched)),l(10),u("ngClass",C(78,B,i.myForm.get("legalFormValue").invalid&&i.myForm.get("legalFormValue").touched)),l(3),u("ngClass",C(80,V,i.myForm.get("legalFormValue").invalid&&i.myForm.get("legalFormValue").touched)),l(14),u("ngIf",i.addMarchandReussie)}},dependencies:[Se,U,oe,Ne,Te,ne,Ae,ie,re,ae,gt,pt,ht,ze],styles:[".error-label[_ngcontent-%COMP%]{color:red;border:red}.border-label[_ngcontent-%COMP%]{border:1px dashed red;border-color:red}"]});let o=e;return o})();var hn=[{path:"",redirectTo:X.Validation,pathMatch:"full"},{title:"Validation",path:X.Validation,component:Et,children:[{path:"marchand/:demandeId",component:Dt,outlet:"demande"}]},{title:"Add",path:X.Add,component:Vt},{path:X.Settings,children:[{title:"Settings",path:le.Profile,component:Nt},{title:"Users",path:le.Users,component:Tt}]},{path:"**",component:St}],jt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=H({type:e}),e.\u0275inj=j({imports:[ue.forChild(hn),ue]});let o=e;return o})();function fn(o,e){o&1&&(_e(0),a(1,"button",30),m(2,"i",31),s(),Ce())}function bn(o,e){o&1&&m(0,"lord-icon",32)}function vn(o,e){if(o&1&&(a(0,"div",33)(1,"div",34),d(2),m(3,"div",35),s()()),o&2){let r=f();l(2),$(" ",r.demandLength," ")}}var Ht=(()=>{let e=class e{ngOnInit(){this.getAllDemandesNotVerified(),this.pollDemandes(),this.Id=this.authService.getAuthenticatedUserId(),console.log("ID de l'utilisateur authentifi\xE9:",this.Id),this.Id!==0?this.retrieveUserById():console.error("ID d'utilisateur invalide:",this.Id)}pollDemandes(){setInterval(()=>{this.getAllDemandesNotVerified()},5e3)}constructor(t,n,i,c,p){this.authService=t,this.element=n,this.renderer=i,this.demandeService=c,this.tokenService=p,this.userOne=vt.users.userOne,this.user=null,this.isOpen=!1,this.onClickProfile=()=>{this.isOpen=!this.isOpen;let g=this.element.nativeElement.querySelector(".profile-dropdown-list");this.renderer.setAttribute(g,"aria-expanded",this.isOpen.toString())},this.unverifiedDemandes=[]}retrieveUserById(){this.authService.getUserById(this.Id).subscribe({next:t=>{this.user=t},error:t=>console.error("Erreur lors de la r\xE9cup\xE9ration de l'utilisateur:",t)})}getAllDemandesNotVerified(){this.demandeService.getAllDemandesNotVerified().subscribe(t=>{this.unverifiedDemandes=t,this.demandLength=this.unverifiedDemandes.length},t=>{console.error("Error fetching unverified demandes:",t)})}get demandelenght(){return this.unverifiedDemandes.length}onLogout(){this.tokenService.logOut()}};e.\u0275fac=function(n){return new(n||e)(_(de),_(Z),_(tt),_(K),_(Ve))},e.\u0275cmp=S({type:e,selectors:[["app-header"]],decls:42,vars:11,consts:[[1,"backdrop-blur-sm","bg-white/40","py-3","px-8","shadow-[0_5px_5px_-5px]","shadow-emerald-100","sticky","top-0","admin-navbar"],[1,"flex","justify-between","items-center"],[1,"flex","justify-start","items-center","gap-x-3"],[1,"flex","justify-end","items-center","gap-x-3"],[1,"relative"],["href","/commercial/validation"],[4,"ngIf","ngIfElse"],["elseBlock",""],["id","containerDiv",4,"ngIf"],[1,"relative","inline-block","profile-dropdown"],[1,"flex","items-center",3,"click"],["type","button",1,"flex","w-10","h-10","overflow-hidden","rounded-full","border-2","border-emerald-500","shadow"],["alt","user logo url",1,"w-full","object-cover",3,"src"],[1,"text-left","ml-3"],[1,"text-light","text-xs"],["aria-expanded","false",1,"profile-dropdown-list"],[1,"flex","gap-3","items-center"],[1,"flex","items-center","justify-center","rounded-full","h-12","w-12","overflow-hidden","border-2","border-emerald-600"],["alt","Profile",1,"w-full","object-cover",3,"src"],[1,"flex","gap-1","text-sm","font-semibold"],[1,"text-emerald-600"],[1,"bi","bi-check2-circle"],[1,"text-xs","text-slate-400"],[1,"border-t","border-slate-500/30"],[1,"flex","flex-col","text-sm"],["href","/commercial/settings/profile",1,"flex","items-center","gap-3","rounded-md","p-2","hover:bg-slate-200"],[1,"bi","bi-person-circle"],[1,""],["type","button",1,"w-full","p-2","text-left","text-sm","text-red-500","font-semibold","rounded","transition","hover:bg-slate-200",3,"click"],[1,"bi","bi-power"],["type","button",1,"text-xl","text-light","rounded-full","w-10","h-10","transition","hover:bg-emerald-100"],[1,"bi","bi-bell"],["src","https://cdn.lordicon.com/vspbqszr.json","trigger","loop","state","loop-bell","colors","primary:#9ca3af",1,"mt-2","mr-0.5","rounded-full","transition","hover:bg-emerald-100",2,"width","30px","height","30px"],["id","containerDiv"],[1,"px-1","rounded-full","text-slate-400","text-center","text-xs","absolute","-top-0","-end-0",2,"z-index","9999"],[1,"absolute","top-0","start-0","rounded-full","-z-10","animate-ping","bg-slate-200","w-full","h-full"]],template:function(n,i){if(n&1&&(a(0,"header",0)(1,"div",1),m(2,"div",2),a(3,"div",3)(4,"div",4)(5,"a",5),k(6,fn,3,0,"ng-container",6)(7,bn,1,0,"ng-template",null,7,me),s(),k(9,vn,4,1,"div",8),s(),a(10,"div",9)(11,"div",10),h("click",function(){return i.onClickProfile()}),a(12,"button",11),m(13,"img",12),s(),a(14,"div",13)(15,"p"),d(16),s(),a(17,"p",14),d(18),s()()(),a(19,"div",15)(20,"div",16)(21,"div",17),m(22,"img",18),s(),a(23,"div")(24,"div",19)(25,"span"),d(26),s(),a(27,"span",20),m(28,"i",21),s()(),a(29,"div",22),d(30),s()()(),m(31,"div",23),a(32,"div",24)(33,"a",25),m(34,"i",26),a(35,"span"),d(36,"Profile"),s()()(),m(37,"div",23),a(38,"div",27)(39,"button",28),h("click",function(){return i.onLogout()}),m(40,"i",29),d(41," Logout "),s()()()()()()()),n&2){let c=z(8);l(6),u("ngIf",i.demandLength===0)("ngIfElse",c),l(3),u("ngIf",i.demandLength!==0),l(4),D("src",i.user==null?null:i.user.profilLogoUrl,G),l(3),$e("",i.user==null?null:i.user.firstName," ",i.user==null?null:i.user.lastName,""),l(2),A((i.user==null||i.user.roles==null?null:i.user.roles.length)>=2?'Administrateur: "Commercial"':"Commercial"),l(4),D("src",i.user==null?null:i.user.profilLogoUrl,G),l(4),$e("",i.user==null?null:i.user.firstName," ",i.user==null?null:i.user.lastName,""),l(4),A(i.user==null?null:i.user.email)}},dependencies:[U],styles:[".admin-navbar[_ngcontent-%COMP%]{z-index:10}.profile-dropdown-list[_ngcontent-%COMP%]{position:absolute;top:2.25rem;right:-.75rem;margin-top:.5rem;display:flex;width:15rem;flex-direction:column;gap:.75rem;border-radius:.75rem;border-width:1px;border-color:#64748b4d;--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity));padding:1rem;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.profile-dropdown-list[aria-expanded=false][_ngcontent-%COMP%]{visibility:hidden;--tw-scale-x: .9;--tw-scale-y: .9;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:0}"]});let o=e;return o})();var Lt=(()=>{let e=class e{constructor(t){this.elementRef=t}onClick(){let t=this.elementRef.nativeElement,n=t.closest(".sidebar");n?.getAttribute("aria-expanded")==="false"?t.closest(".sidebar")?.setAttribute("aria-expanded","true"):n?.setAttribute("aria-expanded","false"),n?.querySelectorAll(".sub-menu")?.forEach(p=>{p.getAttribute("aria-expanded")=="true"&&p.setAttribute("aria-expanded","false"),p.toggleAttribute("icon-hidden")})}};e.\u0275fac=function(n){return new(n||e)(_(Z))},e.\u0275dir=Ze({type:e,selectors:[["","sidebarCollapse",""]],hostBindings:function(n,i){n&1&&h("click",function(){return i.onClick()})},standalone:!0});let o=e;return o})();function xn(o,e){if(o&1&&(a(0,"div",24)(1,"div",25),d(2),m(3,"div",26),s()()),o&2){let r=f(2);l(2),$(" ",r.demandLength," ")}}function _n(o,e){if(o&1){let r=F();a(0,"aside")(1,"div",7)(2,"a",8)(3,"h1",9),m(4,"img",10),s()()(),a(5,"ul",11)(6,"li")(7,"a",12)(8,"div",13),m(9,"i",14),k(10,xn,4,1,"div",15),s(),a(11,"span",16),d(12,"Validation"),s()()(),a(13,"li")(14,"a",12),m(15,"i",17),a(16,"span"),d(17,"Ajouter un marchand"),s()()(),a(18,"li")(19,"a",18),h("click",function(n){b(r);let i=f();return v(i.subMenuToggleHandler(n))}),m(20,"i",19),a(21,"span"),d(22,"Param\xE8tres"),s()(),a(23,"ul",20)(24,"li")(25,"a",12)(26,"span"),d(27,"Mot de passe"),s()()(),a(28,"li")(29,"a",21)(30,"span"),d(31,"Site web"),s()()()()(),a(32,"li")(33,"a",22),h("click",function(){b(r);let n=f();return v(n.onLogout())}),m(34,"i",23),a(35,"span"),d(36,"Se d\xE9connecter"),s()()()()()}if(o&2){let r=f();l(7),u("routerLink",r.commonServices.prepareRoute(r.appRoutes.Commercial,r.commercialRoutes.Validation)),l(3),u("ngIf",r.demandLength!==0),l(4),u("routerLink",r.commonServices.prepareRoute(r.appRoutes.Commercial,r.commercialRoutes.Add)),l(11),u("routerLink",r.commonServices.prepareRoute(r.appRoutes.Commercial,r.commercialRoutes.Settings,r.settingRoutes.Profile))}}function Cn(o,e){if(o&1&&(a(0,"div",24)(1,"div",25),d(2),m(3,"div",26),s()()),o&2){let r=f(2);l(2),$(" ",r.demandLength," ")}}var Sn=()=>["/admin/dashboard"];function kn(o,e){if(o&1&&(a(0,"aside")(1,"div",7)(2,"a",8)(3,"h1",9),m(4,"img",10),s()()(),a(5,"ul",11)(6,"li")(7,"a",12)(8,"div",13),m(9,"i",14),k(10,Cn,4,1,"div",15),s(),a(11,"span",16),d(12,"Validation"),s()()(),a(13,"li")(14,"a",12),m(15,"i",17),a(16,"span"),d(17,"Ajouter un marchand"),s()()(),a(18,"li")(19,"a",12),m(20,"i",27),a(21,"span"),d(22,"Administrateur tableau de bord"),s()()()()()),o&2){let r=f();l(7),u("routerLink",r.commonServices.prepareRoute(r.appRoutes.Commercial,r.commercialRoutes.Validation)),l(3),u("ngIf",r.demandLength!==0),l(4),u("routerLink",r.commonServices.prepareRoute(r.appRoutes.Commercial,r.commercialRoutes.Add)),l(5),u("routerLink",ot(4,Sn))}}var Rt=(()=>{let e=class e{constructor(t,n,i,c,p,g){this.commonServices=t,this.elementRef=n,this.demandeService=i,this.tokenService=c,this.router=p,this.authService=g,this.sidebarIsCollapsed=!0,this.appRoutes=yt,this.commercialRoutes=X,this.settingRoutes=le,this.elementRoutes=We,this.routerSubscription=new ge,this.sidebarCollapsed=new xe,this.isCommercialOnly=!1,this.subMenuToggleHandler=y=>{let x=y.target.closest("a.sub-menu");x.getAttribute("aria-expanded")=="false"?x.setAttribute("aria-expanded","true"):x.setAttribute("aria-expanded","false")},this.subMenuToggleHandlerOnPageReload=()=>{this.elementRef.nativeElement.querySelector('[aria-current="page"]').closest("ul.sub-menu-item")?.previousSibling?.setAttribute("aria-expanded","true")},this.subMenuToggleHandlerOnRouteChange=()=>{this.routerSubscription=this.router.events.subscribe(y=>{if(y instanceof ct){let w=this.elementRef.nativeElement.querySelectorAll(".sub-menu");if(this.elementRef.nativeElement.querySelector(`[href='${y.url}']`).closest("ul.sub-menu-item"))return;w.forEach(I=>{I.getAttribute("aria-expanded")=="true"&&I.setAttribute("aria-expanded","false")})}})},this.unverifiedDemandes=[]}ngOnInit(){this.checkIfUserIsOnlyCommercial(),this.isCommercialOnly&&(this.getAllDemandesNotVerified(),this.pollDemandes())}checkIfUserIsOnlyCommercial(){let t=this.authService.getUserRoles();this.isCommercialOnly=t.length===1&&t[0]==="ROLE_COMMERCIAL",console.log("isCommercialOnly:",this.isCommercialOnly)}pollDemandes(){setInterval(()=>{this.isCommercialOnly&&this.getAllDemandesNotVerified()},5e3)}ngAfterViewInit(){setTimeout(()=>{this.subMenuToggleHandlerOnPageReload()},100)}ngOnDestroy(){this.routerSubscription.unsubscribe()}getAllDemandesNotVerified(){this.demandeService.getAllDemandesNotVerified().subscribe(t=>{this.unverifiedDemandes=t,this.demandLength=this.unverifiedDemandes.length},t=>{console.error("Error fetching unverified demandes:",t)})}get demandelenght(){return this.unverifiedDemandes.length}onLogout(){this.tokenService.logOut()}};e.\u0275fac=function(n){return new(n||e)(_(wt),_(Z),_(K),_(Ve),_(Ie),_(de))},e.\u0275cmp=S({type:e,selectors:[["app-sidebar"]],outputs:{sidebarCollapsed:"sidebarCollapsed"},decls:8,vars:2,consts:[[4,"ngIf"],[1,"collapsible-btn-container"],["id","sidebar-collapse-btn","sidebarCollapse",""],[1,"w-6","h-16","flex","justify-center","items-center"],[1,"collapsible-icons"],[1,"collapsible-top-icon"],[1,"collapsible-bottom-icon"],[1,"brand-wrapper"],["href","#",1,"brand","text-center"],[1,"flex","items-center","font-bold","text-emerald-50"],["src","https://i.ibb.co/7K50gbw/Pay-Pikpng.png","alt","Logo",1,"h-16","w-auto","object-contain","hover:border-emerald-400"],[1,"menu-links"],["routerLinkActive","active","ariaCurrentWhenActive","page",1,"menu-item",3,"routerLink"],[1,"absolute"],[1,"bi","bi-bell"],["id","containerDiv",4,"ngIf"],[1,"pl-6"],[1,"bi","bi-plus-circle"],["href","javascript:void(0)","aria-expanded","false",1,"menu-item","sub-menu",3,"click"],[1,"bi","bi-sliders2-vertical"],[1,"sub-menu-item"],["href","#","ariaCurrentWhenActive","page",1,"menu-item"],["href","#",1,"menu-item",3,"click"],[1,"bi","bi-box-arrow-right"],["id","containerDiv"],[1,"px-1","rounded-full","text-center","text-xs","absolute","-top-2","-end-2",2,"z-index","9999"],[1,"absolute","top-0","start-0","rounded-full","-z-10","animate-ping","bg-emerald-50","w-full","h-full"],[1,"bi","bi-caret-left-square"]],template:function(n,i){n&1&&(k(0,_n,37,4,"aside",0)(1,kn,23,5,"aside",0),a(2,"div",1)(3,"button",2)(4,"div",3)(5,"div",4),m(6,"div",5)(7,"div",6),s()()()()),n&2&&(u("ngIf",i.isCommercialOnly),l(),u("ngIf",!i.isCommercialOnly))},dependencies:[U,mt,ut,Lt],styles:[`.sidebar{position:sticky;top:0;min-height:100vh;background-image:linear-gradient(to right,var(--tw-gradient-stops));--tw-gradient-from: #022c22 var(--tw-gradient-from-position);--tw-gradient-to: rgb(2 44 34 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: #047857 var(--tw-gradient-to-position);padding-left:.75rem;padding-right:.75rem;padding-top:1.25rem;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}.sidebar[aria-expanded=true]{width:15rem}.sidebar[aria-expanded=false]{width:0px;overflow:hidden;padding:0}.brand-wrapper{display:flex;min-height:2rem;align-items:center;justify-content:space-between}.brand{display:flex;align-items:center;column-gap:.5rem;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}app-sidebar[aria-expanded=false] .brand-wrapper{justify-content:space-evenly}app-sidebar[aria-expanded=false] .brand{width:0px;--tw-scale-x: 0;--tw-scale-y: 0;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.menu-links{display:flex;flex-direction:column;row-gap:.75rem;padding-top:1.25rem;font-weight:500}.menu-item{display:inline-flex;width:100%;align-items:center;column-gap:.5rem;overflow:hidden;border-radius:.25rem;padding:.25rem .5rem;--tw-text-opacity: 1;color:rgb(167 243 208 / var(--tw-text-opacity));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-duration:.3s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.menu-item span{font-size:.875rem;line-height:1.25rem}.sidebar[aria-expanded=false] .menu-links .menu-item span{display:none}.menu-item.active{--tw-text-opacity: 1;color:rgb(5 150 105 / var(--tw-text-opacity))}.menu-item:hover{--tw-bg-opacity: 1;background-color:rgb(4 120 87 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(236 253 245 / var(--tw-text-opacity))}.menu-item i:before{display:inline}.sub-menu{position:relative}.sub-menu[aria-expanded=true]{--tw-text-opacity: 1;color:rgb(236 253 245 / var(--tw-text-opacity))}.sub-menu:after{font-family:Bootstrap-Icons;content:"\\f282";position:absolute;font-size:.5rem;right:0;padding:.5rem;transition:all .2s ease-in-out}.sub-menu[aria-expanded=true]:after{transform:rotate(90deg)}.sub-menu[icon-hidden]:after{opacity:0}.sub-menu-item{margin-left:1rem;display:flex;max-height:0px;flex-direction:column;overflow:hidden;border-left-width:1px;--tw-border-opacity: 1;border-color:rgb(5 150 105 / var(--tw-border-opacity));padding-left:.5rem;font-size:.875rem;line-height:1.25rem;transition-property:max-height;transition-duration:.3s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.sub-menu[aria-expanded=true]+.sub-menu-item{max-height:24rem!important}.collapsible-top-icon,.collapsible-bottom-icon{transition-property:all;transition-duration:.1s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.collapsible-btn-container{position:fixed;left:0;top:50%;--tw-translate-x: 15rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}@media (max-width: 700px){.collapsible-btn-container{position:fixed;left:0;top:50%;--tw-translate-x: 10rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}}.collapsible-top-icon{height:1rem;width:.25rem;--tw-translate-y: .15rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));border-radius:9999px;--tw-bg-opacity: 1;background-color:rgb(2 44 34 / var(--tw-bg-opacity))}.collapsible-bottom-icon{height:1rem;width:.25rem;--tw-translate-y: -.15rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));border-radius:9999px;--tw-bg-opacity: 1;background-color:rgb(2 44 34 / var(--tw-bg-opacity))}#sidebar-collapse-btn:hover .collapsible-top-icon,#sidebar-collapse-btn:hover .collapsible-bottom-icon{--tw-bg-opacity: 1;background-color:rgb(4 120 87 / var(--tw-bg-opacity))}.sidebar[aria-expanded=false] .collapsible-btn-container{--tw-translate-x: .3rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.sidebar[aria-expanded=false] .collapsible-btn-container .collapsible-top-icon{--tw-rotate: -15deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.sidebar[aria-expanded=false] .collapsible-btn-container .collapsible-bottom-icon,.sidebar[aria-expanded=true] #sidebar-collapse-btn:hover .collapsible-top-icon{--tw-rotate: 15deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.sidebar[aria-expanded=true] #sidebar-collapse-btn:hover .collapsible-bottom-icon{--tw-rotate: -15deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}
`],encapsulation:2});let o=e;return o})();var Ut=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=H({type:e}),e.\u0275inj=j({imports:[N,ue]});let o=e;return o})();var fr=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=S({type:e,selectors:[["app-commercial"]],decls:6,vars:0,consts:[[1,"flex","w-full","items-start","font-sans","bg-slate-100"],["aria-expanded","true",1,"sidebar","shadow-xl"],[1,"flex-1"],[1,"min-h-screen","p-8"]],template:function(n,i){n&1&&(a(0,"div",0),m(1,"app-sidebar",1),a(2,"div",2),m(3,"app-header"),a(4,"main",3),m(5,"router-outlet"),s()()())},dependencies:[Me,Ht,Rt]});let o=e;return o})();var Pt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=H({type:e}),e.\u0275inj=j({imports:[N,se]});let o=e;return o})();var Bt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=H({type:e}),e.\u0275inj=j({imports:[N]});let o=e;return o})();var qr=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=H({type:e}),e.\u0275inj=j({providers:[Ue],imports:[N,se,jt,Ut,Pt,Bt,ft]});let o=e;return o})();export{fr as a,qr as b};
