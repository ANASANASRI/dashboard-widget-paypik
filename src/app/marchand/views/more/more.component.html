<nav class="flex items-center justify-between pb-4" aria-label="Pagination">
    <a class="relative inline-flex items-center rounded-md border border-emerald-700 bg-transparent px-4 py-2 text-sm font-medium text-emerald-700 hover:bg-emerald-50"
        rel="prev" href="marchand/dashboard/{{marchandId}}"><svg stroke="currentColor" fill="currentColor"
            stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z">
            </path>
        </svg> &nbsp; Précédent
    </a>
</nav>

<!-- Boutons -->
<div class=" flex justify-end mr-14">
    <span *ngIf="loading; else notLoading">
        <button type="button"
            class=" py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-50 dark:bg-transparent dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800">
            <svg width="20" height="20" fill="currentColor" class="mr-2 animate-spin" viewBox="0 0 1792 1792"
                xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M526 1394q0 53-37.5 90.5t-90.5 37.5q-52 0-90-38t-38-90q0-53 37.5-90.5t90.5-37.5 90.5 37.5 37.5 90.5zm498 206q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-704-704q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm1202 498q0 52-38 90t-90 38q-53 0-90.5-37.5t-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-964-996q0 66-47 113t-113 47-113-47-47-113 47-113 113-47 113 47 47 113zm1170 498q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-640-704q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm530 206q0 93-66 158.5t-158 65.5q-93 0-158.5-65.5t-65.5-158.5q0-92 65.5-158t158.5-66q92 0 158 66t66 158z">
                </path>
            </svg>
            <span class="ml-2">Télécharger PDF</span>
        </button>
    </span>
    <ng-template #notLoading>
        <button (click)="startLoading()" type="button"
            class="py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-50 dark:bg-transparent dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800">
            <svg class=" h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
            </svg>

            <span class="ml-2">Télécharger PDF</span>
        </button>
    </ng-template>
</div>
<!-- Fin des Boutons -->


<section class="grid grid-cols-1 mb-4 xl:grid-cols-1 2xl:grid-cols-1 gap-5">
    <!-- composant -->
    <div *ngFor="let marchand of marchands">
        <div *ngFor="let transaction of transactions">
            <div *ngFor="let method of paymentMethods">
                <div class="flex flex-col items-center justify-center bg-slate-100"> <!-- thème sombre -->
                    <div #content class="container mx-4">
                        <!-- Facture -->
                        <div class="px-4 sm:px-6 lg:px-8 mx-auto my-4 sm:my-10">
                            <div class="mx-auto">
                                <!-- Carte -->
                                <div class="flex flex-col p-4 sm:p-10 bg-white shadow-md rounded-xl dark:bg-neutral-800">
                                    <!-- profile card -->
                    <div class="flex flex-col sticky top-20 z-10 pb-6">
                        <div class="bg-white border  shadow-lg rounded-2xl p-4">
                            <div class="flex-none sm:flex ">
                                <div class="hover:scale-105 duration-700 relative sm:mb-0 mb-3" width="196"
                                height="296">
                                    <img src="{{ marchand.marchandLogoUrl }}" alt="aji"
                                        class="h-28 object-cover rounded-2xl" />
                                </div>
                                <div class="flex-auto sm:ml-5 justify-evenly">
                                    <div class="flex items-center justify-between sm:mt-2"
                                        *ngFor="let marchand of marchands">
                                        <div class="flex items-center">
                                            <div class="flex flex-col">
                                                <div
                                                    class="w-full flex-none text-lg text-gray-400 font-bold leading-none">
                                                    {{ marchand.marchandName }}
                                                </div>
                                                <div class="flex-auto text-gray-400 my-1">
                                                    <span class="mr-3"> {{ marchand.marchandHost }}</span>
                                                </div>
                                                <div class="flex-auto text-gray-400 my-1">
                                                    <span class="mr-3">
                                                        {{ marchand.marchandDescription }}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!---stats-->
                    <div class="grid grid-cols-12 gap-4 pb-6">
                        <div class="hover:scale-105 duration-700 col-span-12 sm:col-span-4">
                            <div class="p-3.5 relative bg-white border  shadow-lg rounded-2xl">
                                <lord-icon
                                    src="https://cdn.lordicon.com/pqirzoux.json"
                                    trigger="hover"
                                    class=" absolute bottom-4 right-3"
                                    colors="primary:#4ade80"
                                    style="width:56px;height:56px">
                                </lord-icon>
                                <div class="flex justify-between items-center">
                                    <i class="fab fa-behance text-xl text-gray-400"></i>
                                </div>
                                <div class="text-2xl text-gray-500 font-medium leading-8 mt-5">
                                    {{numberOfTransactions}}
                                </div>
                                <div class="text-sm text-gray-500">Transactions réalisées par ce client</div>
                            </div>
                        </div>
                        <div class="hover:scale-105 duration-700 col-span-12 sm:col-span-4">
                            <div class="p-4 flex flex-row justify-between relative bg-white border  shadow-lg rounded-2xl">
                                <div *ngFor="let transaction of transactions">
                                    <div class="underline pb-3 font-medium leading-none  text-gray-400">
                                        N° Commande:&ensp;{{ transaction.orderId }}
                                    </div>
                                    <span class=""></span>
                                    <p class="text-sm  text-gray-500">
                                        Montant:&ensp;{{ transaction.amount }}
                                        {{ transaction.currency }}
                                    </p>
                                    <p class="text-sm  text-gray-500">
                                        {{ transaction.timestamp }}
                                    </p>
                                </div>
                                <div class="mt-5 w-12 h-12">
                                    <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 64 64" viewBox="0 0 64 64" id="Order"><path d="M12,63h40c2.757,0,5-2.243,5-5V6c0-2.757-2.243-5-5-5H12C9.243,1,7,3.243,7,6v52C7,60.757,9.243,63,12,63z M52,61H12
                                        c-1.654,0-3-1.346-3-3V13h46v45C55,59.654,53.654,61,52,61z M55,6v5H27V3h25C53.654,3,55,4.346,55,6z M12,3h13v8H9V6
                                        C9,4.346,10.346,3,12,3z" fill="#6b7280" class="color000000 svgShape"></path><rect width="15" height="2" x="12" y="24" fill="#6b7280" class="color000000 svgShape"></rect><rect width="23" height="2" x="29" y="24" fill="#6b7280" class="color000000 svgShape"></rect><rect width="24" height="2" x="12" y="20" fill="#6b7280" class="color000000 svgShape"></rect><rect width="14" height="2" x="38" y="20" fill="#6b7280" class="color000000 svgShape"></rect><rect width="4" height="2" x="12" y="6" fill="#6b7280" class="color000000 svgShape"></rect><rect width="4" height="2" x="18" y="6" fill="#6b7280" class="color000000 svgShape"></rect><rect width="22" height="2" x="30" y="6" fill="#6b7280" class="color000000 svgShape"></rect><path d="M33,34H13c-0.552,0-1,0.448-1,1v10c0,0.552,0.448,1,1,1h20c0.552,0,1-0.448,1-1V35C34,34.448,33.552,34,33,34z M14,36h7v8
                                        h-7V36z M32,44h-9v-8h4v3h2v-3h3V44z" fill="#6b7280" class="color000000 svgShape"></path><rect width="3" height="2" x="17" y="41" fill="#6b7280" class="color000000 svgShape"></rect><path d="M53.479,51.122l-11-6c-0.357-0.195-0.796-0.154-1.112,0.104c-0.315,0.257-0.442,0.68-0.323,1.068l4,13
                                        c0.127,0.416,0.509,0.701,0.944,0.706c0.004,0,0.008,0,0.012,0c0.43,0,0.812-0.275,0.949-0.684l1.816-5.45l4.431-0.886
                                        c0.412-0.083,0.729-0.414,0.792-0.83C54.052,51.734,53.848,51.323,53.479,51.122z M47.804,52.019
                                        c-0.352,0.07-0.639,0.324-0.752,0.664l-1.013,3.04l-2.36-7.668l6.426,3.504L47.804,52.019z" fill="#6b7280" class="color000000 svgShape"></path></svg>
                                    <span></span>
                                </div>
                            </div>
                        </div>
                        <div class="hover:scale-105 duration-700 col-span-12 sm:col-span-4" >
                            <div class="p-3.5 relative bg-white border  shadow-lg rounded-2xl" *ngFor="let transaction of transactions">
                                
                                <ng-container *ngIf="transaction.status === 'completed'">
                                    <svg class="h-14 w-14 absolute bottom-4 right-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" id="complete">
                                        <path d="M28.46 42.29a2 2 0 0 1-1.46-.58l-9.5-9.5a2 2 0 0 1 2.83-2.83l8.09 8.09 15.21-15.18a2 2 0 1 1 2.83 2.83L29.87 41.71a2 2 0 0 1-1.41.58Z" fill="#52cc99" class="color000000 svgShape"></path><path d="M32 60a28 28 0 1 1 28-29.53 2 2 0 0 1-1.88 2.11A2 2 0 0 1 56 30.69a24 24 0 1 0-16.36 24.06 23.86 23.86 0 0 0 13.94-12.24 2 2 0 1 1 3.59 1.75 27.78 27.78 0 0 1-16.26 14.29A28.14 28.14 0 0 1 32 60Z" fill="#52cc99" class="color000000 svgShape"></path></svg>                                            </ng-container>
                                <ng-container *ngIf="transaction.status === 'cancelled'">
                                    <svg class="h-14 w-14 absolute bottom-4 right-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" id="Cancel"><path d="M50 12c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38zm0 72c-18.8 0-34-15.2-34-34s15.2-34 34-34 34 15.2 34 34-15.2 34-34 34zm2.8-34 12.6-12.6c.8-.8.8-2 0-2.8-.8-.8-2-.8-2.8 0L50 47.2 37.4 34.6c-.8-.8-2-.8-2.8 0-.8.8-.8 2 0 2.8L47.2 50 34.6 62.6c-.8.8-.8 2 0 2.8.8.8 2 .8 2.8 0L50 52.8l12.6 12.6c.8.8 2 .8 2.8 0 .8-.8.8-2 0-2.8L52.8 50z" fill="#e30c0c" class="color000000 svgShape"></path><path fill="#ff0000" d="M244-1070V614h-1784v-1684H244m8-8h-1800V622H252v-1700z" class="color0000ff svgShape"></path></svg></ng-container>
                                <ng-container *ngIf="transaction.status === 'pending'">
                                    <svg class="h-14 w-14 absolute bottom-4 right-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="Pending">
                                        <g fill="#f2cd00" class="color000000 svgShape"><path d="M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" fill="#f2cd00" class="color000000 svgShape"></path><path d="M12,6a1,1,0,0,0-1,1v4.59L8.29,14.29a1,1,0,1,0,1.41,1.41l3-3A1,1,0,0,0,13,12V7A1,1,0,0,0,12,6Z" fill="#f2cd00" class="color000000 svgShape"></path></g></svg>                                            </ng-container>

                                <div class="px-2.5 pb-4">
                                    <div class="underline pb-3 font-medium leading-none  text-gray-400">
                                        Etat de transaction : 
                                    </div>
                                    
                                    <div class="text-lg  text-gray-500" [ngClass]="{
                                        'text-green-500': transaction.status === 'completed',
                                        'text-red-500': transaction.status === 'cancelled',
                                        'text-yellow-400': transaction.status === 'pending' ,
                                    }">{{ transaction.status }}</div>
                                </div>
                        </div>
                        </div>
                    </div>

                    <!--confirm modal-->

                    <!--elements-->
                    <div class="grid gap-4 grid-cols-1 md:grid-cols-2" *ngFor="let transaction of transactions">
                        <!-- elements 1 -->
                        <div
                            class="flex flex-col p-4 bg-white border  shadow-md hover:text-green-500 text-gray-400 hover:shodow-lg rounded-2xl transition ease-in duration-500 transform hover:scale-105 cursor-pointer">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center mr-auto">
                                    <div class="inline-flex w-12 h-12">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="Profile"><circle cx="16" cy="8.5" r="5.5" fill="#48ca69" class="color5f7cf9 svgShape"></circle><path fill="#8cffa9" d="M16 15a9 9 0 0 0-9 9v4a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1v-4a9 9 0 0 0-9-9Z" class="color8c9eff svgShape"></path><path fill="#40ed6c" d="M16 3v11a5.5 5.5 0 0 0 0-11Z" class="color4062ed svgShape"></path><path fill="#48ca69" d="M16 15v14h8a1 1 0 0 0 1-1v-4a9 9 0 0 0-9-9Z" class="color5f7cf9 svgShaperelative w-12 h-12 object-cover rounded-2xl"></path></svg>
                                            <span class="animate-ping absolute w-12 h-12 inline-flex border-2 rounded-full border-green-400 opacity-75"></span>
                                        <span></span>
                                    </div>

                                    <div class="flex flex-col ml-3">
                                        <p class="underline">Client info</p>
                                        <div class="font-medium leading-none text-gras-100">
                                            Nom Clien :&ensp;{{ transaction.clientName }}
                                        </div>
                                        <p class="text-sm text-gray-500 leading-none mt-1">
                                            {{ transaction.clientEmail }}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--elements 2-->
                        <div
                            class="flex flex-col p-4 bg-white border  shadow-md hover:text-green-500 text-gray-400 hover:shodow-lg rounded-2xl transition ease-in duration-500 transform hover:scale-105 cursor-pointer">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center mr-auto" *ngFor="let method of paymentMethods">
                                    <div class="-space-x-5 flex">
                                        <img src="{{ method.methodIconUrl }}" alt="aji"
                                            class="relative p-1 w-14 h-14 object-cover rou" />
                                    </div>

                                    <div class="flex flex-col ml-3 min-w-0">
                                        <p class="underline pb-1">Payment Methode</p>
                                        <div class="font-medium leading-none text-gras-100">
                                            {{ method.methodName }}
                                        </div>
                                    </div>
                                </div>
                                <div class="flex flex-col ml-3 min-w-0">
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                

                                </div>
                                <!-- Fin Carte -->
                            </div>
                        </div>
                    </div>
                    <!-- Fin thème sombre -->
                </div>
                <!-- Fin composant -->
            </div>
        </div>
    </div>
</section>



<app-scroll-to-top></app-scroll-to-top>